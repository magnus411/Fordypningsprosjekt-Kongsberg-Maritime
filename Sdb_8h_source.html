<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sensor Data Handler System: src/Sdb.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Sensor Data Handler System<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">This file implements the main entry point and configuration setup for the  Kongsberg Maritime&#39;s sensor data handling system. The system is designed to  collect and store sensor data with flexible and modular configuration capabilities.\n \n This system can be configured to handle multiple data handlers, each with their  own thread group. The system is designed to be easily extensible and configurable  through JSON configuration files.\n \n Changes to the code can be made to extend the system&#39;s capabilities, such as adding protocols.  This system has built up a framework for adding new configurations later.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('Sdb_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Sdb.h</div></div>
</div><!--header-->
<div class="contents">
<a href="Sdb_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#ifndef SDB_H_INCLUDE</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="preprocessor">#define SDB_H_INCLUDE</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">// NOLINTBEGIN(misc-definitions-in-headers)</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span> </div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">// WARN: Do not remove any includes without first checking if they are used in the implementation</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">// part by uncommenting #define SDB_H_IMPLEMENTATION (and remember to comment it out again</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">// afterwards,</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;ctype.h&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;fcntl.h&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;float.h&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;pthread.h&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;sys/mman.h&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;time.h&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#if !defined(__cplusplus)</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span><span class="comment">//              DEFINES               //</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="comment">// NOTE(ingar): Prevents the formatter from indenting everything inside the &quot;C&quot; block</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span><span class="preprocessor">#if defined(__cplusplus)</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span><span class="preprocessor">#define SDB_BEGIN_EXTERN_C                                                                         \</span></div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span><span class="preprocessor">    extern &quot;C&quot;                                                                                     \</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="preprocessor">    {</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="preprocessor">#define SDB_END_EXTERN_C }</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a4926cbec2e5da5e98aa8d69422b38cc8">   41</a></span><span class="preprocessor">#define SDB_BEGIN_EXTERN_C</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a647179d48383687d63d34d188cf7f5dc">   42</a></span><span class="preprocessor">#define SDB_END_EXTERN_C</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="preprocessor">#if defined(__cplusplus)</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><a class="code hl_define" href="Sdb_8h.html#a4926cbec2e5da5e98aa8d69422b38cc8">SDB_BEGIN_EXTERN_C</a></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a4404ce8000aed82fb367b0bf374dc535">   50</a></span><span class="preprocessor">#define sdb_internal static</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a98b51ce6bbcedc5875354f796fe686aa">   51</a></span><span class="preprocessor">#define sdb_persist  static</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae02b2c135743b7a8dd74731deecdbbfa">   52</a></span><span class="preprocessor">#define sdb_global   static</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span> </div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">   55</a></span><span class="keyword">typedef</span> uint8_t  <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">   56</a></span><span class="keyword">typedef</span> uint16_t <a class="code hl_typedef" href="Sdb_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">   57</a></span><span class="keyword">typedef</span> uint32_t <a class="code hl_typedef" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">   58</a></span><span class="keyword">typedef</span> uint64_t <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span> </div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae3702327b5f47e83b431e22b33da7b58">   60</a></span><span class="keyword">typedef</span> int8_t  <a class="code hl_typedef" href="Sdb_8h.html#ae3702327b5f47e83b431e22b33da7b58">i8</a>;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ad309dbcaeea13aa602d686964156ea0b">   61</a></span><span class="keyword">typedef</span> int16_t <a class="code hl_typedef" href="Sdb_8h.html#ad309dbcaeea13aa602d686964156ea0b">i16</a>;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">   62</a></span><span class="keyword">typedef</span> int32_t <a class="code hl_typedef" href="Sdb_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a85cb35fbe5bf2961d7ad5f26814a91a2">   63</a></span><span class="keyword">typedef</span> int64_t <a class="code hl_typedef" href="Sdb_8h.html#a85cb35fbe5bf2961d7ad5f26814a91a2">i64</a>;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="comment">// TODO(ingar): Check number range for POSIX errno codes and make sure they don&#39;t overlap with ours</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">   77</a></span><span class="keyword">typedef</span> int_least32_t <a class="code hl_typedef" href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">sdb_errno</a>;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="keyword">enum</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>{</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a589f6989d0ad042adf045d065ed57784">   80</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a589f6989d0ad042adf045d065ed57784">SDBE_SUCCESS</a> = 0,</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae55cc81a337333407e1a9d34e4a918d1">   81</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae55cc81a337333407e1a9d34e4a918d1">SDBE_ERR</a>     = 1,</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a5fa7648ef8b226504de20dd07545ed1d">   83</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a5fa7648ef8b226504de20dd07545ed1d">SDBE_DBS_UNAVAIL</a> = 2,</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4fc9dcaf605a0586df10119e8a289894">   84</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4fc9dcaf605a0586df10119e8a289894">SDBE_CP_UNAVAIL</a>  = 3,</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span> </div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a0bd481974da106b230aad0e7fa6ef842">   86</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a0bd481974da106b230aad0e7fa6ef842">SDBE_CONN_CLOSED_SUCS</a> = 4,</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a52ccb9dfe634c55626a9218706b0c9e2">   87</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a52ccb9dfe634c55626a9218706b0c9e2">SDBE_CONN_CLOSED_ERR</a>  = 5,</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a441cb85bdea229c9852f572fc9fa4461">   89</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a441cb85bdea229c9852f572fc9fa4461">SDBE_PG_ERR</a> = 6,</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7aa42e0ea386bf596371515a376d44b3d4">   91</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7aa42e0ea386bf596371515a376d44b3d4">SDBE_JSON_ERR</a> = 7,</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ad57af1c56ca87838762eaece998dc445">   93</a></span>    <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ad57af1c56ca87838762eaece998dc445">SDBE_PTR_WAS_NULL</a> = 8,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>};</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="foldopen" id="foldopen00097" data-start="{" data-end="}">
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae36b72fab20d0c2a64243117597c526b">   97</a></span><a class="code hl_function" href="Sdb_8h.html#ae36b72fab20d0c2a64243117597c526b">SdbStrErr</a>(<a class="code hl_typedef" href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">sdb_errno</a> E)</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>{</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    <span class="keywordflow">if</span>(E &lt; 0) {</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        E = -E;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    }</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="keywordflow">switch</span>(E) {</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a589f6989d0ad042adf045d065ed57784">SDBE_SUCCESS</a>:</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Success&quot;</span>;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae55cc81a337333407e1a9d34e4a918d1">SDBE_ERR</a>:</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Error&quot;</span>;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a5fa7648ef8b226504de20dd07545ed1d">SDBE_DBS_UNAVAIL</a>:</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Database system unavailable&quot;</span>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4fc9dcaf605a0586df10119e8a289894">SDBE_CP_UNAVAIL</a>:</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Communication protocol unavailable&quot;</span>;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a0bd481974da106b230aad0e7fa6ef842">SDBE_CONN_CLOSED_SUCS</a>:</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connection closed successfully&quot;</span>;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a52ccb9dfe634c55626a9218706b0c9e2">SDBE_CONN_CLOSED_ERR</a>:</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connection closed with error&quot;</span>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a441cb85bdea229c9852f572fc9fa4461">SDBE_PG_ERR</a>:</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;PostgreSQL error&quot;</span>;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7aa42e0ea386bf596371515a376d44b3d4">SDBE_JSON_ERR</a>:</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;JSON parsing error&quot;</span>;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ad57af1c56ca87838762eaece998dc445">SDBE_PTR_WAS_NULL</a>:</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Pointer was NULL&quot;</span>;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Unknown error&quot;</span>;</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    }</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>}</div>
</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aac3e8f21299b80f7cfddc90fcd4ae5d8">  127</a></span><span class="preprocessor">#define SDB_EXPAND(x)       x</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aa53de0bbaedb801fdb863ef3265f38dd">  128</a></span><span class="preprocessor">#define SDB__STRINGIFY__(x) #x</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a13cdd1ea7017ab78fe8fc41057a80a6e">  129</a></span><span class="preprocessor">#define SDB_STRINGIFY(x)    SDB__STRINGIFY__(x)</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a05c1b26b5f11e9cea90f0e0cb9bd04da">  131</a></span><span class="preprocessor">#define SDB__CONCAT2__(x, y) x##y</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae9fcbd3286fdd9d12dfc0270567b153e">  132</a></span><span class="preprocessor">#define SDB_CONCAT2(x, y)    SDB__CONCAT2__(x, y)</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ac93040e4dd31a24aacfcf48da985c7c0">  134</a></span><span class="preprocessor">#define SDB__CONCAT3__(x, y, z) x##y##z</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a510b48ec1d3bf97b97e9a5f616c8d421">  135</a></span><span class="preprocessor">#define SDB_CONCAT3(x, y, z)    SDB__CONCAT3__(x, y, z)</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span> </div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a244859d0b35305878749a74750b3e651">  138</a></span><span class="preprocessor">#define SdbKiloByte(Number) (Number * 1000ULL)</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a1007f6e65bd5a052ac10f7914fcdcc42">  139</a></span><span class="preprocessor">#define SdbMegaByte(Number) (SdbKiloByte(Number) * 1000ULL)</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a032c062f6eee5153a1a8a37ab369e4fb">  140</a></span><span class="preprocessor">#define SdbGigaByte(Number) (SdbMegaByte(Number) * 1000ULL)</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a70ca40faaf1332b18e06ee36ea1158eb">  141</a></span><span class="preprocessor">#define SdbTeraByte(Number) (SdbGigaByte(Number) * 1000ULL)</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="Sdb_8h.html#afb52880e31d951569121cf1e22ce3b93">  143</a></span><span class="preprocessor">#define SdbKibiByte(Number) (Number * 1024ULL)</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a4f29c72898fe56a48ae03592aadbd7c0">  144</a></span><span class="preprocessor">#define SdbMebiByte(Number) (SdbKibiByte(Number) * 1024ULL)</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a72dd19a5ff5f2e3e1074ba578bf28837">  145</a></span><span class="preprocessor">#define SdbGibiByte(Number) (SdbMebiByte(Number) * 1024ULL)</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9aaea4bf75acb6f2cf396467f435a252">  146</a></span><span class="preprocessor">#define SdbTebiByte(Number) (SdbGibiByte(Number) * 1024ULL)</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span> </div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aff69611d006fa7bc77e23c1ec31e7c5b">  149</a></span><span class="preprocessor">#define SdbArrayLen(Array) (sizeof(Array) / sizeof(Array[0]))</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aa755a2edd7cd376ea30950204702593c">  152</a></span><span class="preprocessor">#define SdbMax(a, b) ((a &gt; b) ? a : b)</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aeeac531c2db0f942982371917a055ab0">  153</a></span><span class="preprocessor">#define SdbMin(a, b) ((a &lt; b) ? a : b)</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span> </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span> </div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a4754efd06c6316d855123cb51b8eb023">  156</a></span><span class="keywordtype">bool</span>   <a class="code hl_function" href="Sdb_8h.html#a4754efd06c6316d855123cb51b8eb023">SdbDoubleEpsilonCompare</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> A, <span class="keyword">const</span> <span class="keywordtype">double</span> B);</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="Sdb_8h.html#abc08b49e10f062c04d34f7b4afc14615">  157</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>    <a class="code hl_function" href="Sdb_8h.html#abc08b49e10f062c04d34f7b4afc14615">SdbDoubleSignBit</a>(<span class="keywordtype">double</span> F);</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a6559ed03eb1183c66527b6dc79d6c079">  158</a></span><span class="keywordtype">double</span> <a class="code hl_function" href="Sdb_8h.html#a6559ed03eb1183c66527b6dc79d6c079">SdbRadiansFromDegrees</a>(<span class="keywordtype">double</span> Degrees);</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a3bc1152307e502260c7363261ded3603">  159</a></span><span class="keywordtype">size_t</span> <a class="code hl_function" href="Sdb_8h.html#a3bc1152307e502260c7363261ded3603">SdbMemSizeFromString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *SizeStr);</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span> </div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">//              LOGGING               //</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">/* Based on the logging frontend I wrote for oec */</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span> </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="preprocessor">#if !defined(SDB_LOG_BUF_SIZE)</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="Sdb_8h.html#acd3167e718184de791ccd46192bbaa97">  167</a></span><span class="preprocessor">#define SDB_LOG_BUF_SIZE 2048</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span> </div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="keyword">static_assert</span>(<a class="code hl_define" href="Sdb_8h.html#acd3167e718184de791ccd46192bbaa97">SDB_LOG_BUF_SIZE</a> &gt;= 128, <span class="stringliteral">&quot;SDB_LOG_BUF_SIZE must greater than or equal to 128!&quot;</span>);</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span> </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a030e88ba50bfbbff4d76bf505d64c05c">  172</a></span><span class="preprocessor">#define SDB_LOG_LEVEL_NONE (0U)</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae7f85da73a99b767a3b57a5f1eb51afa">  173</a></span><span class="preprocessor">#define SDB_LOG_LEVEL_ERR  (1U)</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aab8bf820144423dffdbc5a4db0e65c6e">  174</a></span><span class="preprocessor">#define SDB_LOG_LEVEL_WRN  (2U)</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a31e87d7d3f8a82c7b7e17e6de9579f1e">  175</a></span><span class="preprocessor">#define SDB_LOG_LEVEL_INF  (3U)</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a2f7c481dc4fec8df2f8437acd77826aa">  176</a></span><span class="preprocessor">#define SDB_LOG_LEVEL_DBG  (4U)</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="preprocessor">#if !defined(SDB_LOG_LEVEL)</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a25266bfb214ede3b181de514096d3eab">  179</a></span><span class="preprocessor">#define SDB_LOG_LEVEL 3</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span> </div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span><span class="preprocessor">#if SDB_LOG_LEVEL &gt;= 4 &amp;&amp; SDB_PRINTF_DEBUG_ENABLE == 1</span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span><span class="preprocessor">#define SdbPrintfDebug(...) printf(__VA_ARGS__);</span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a107ab7ceb154cdc1390efb93687cbaa7">  185</a></span><span class="preprocessor">#define SdbPrintfDebug(...)</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="foldopen" id="foldopen00188" data-start="{" data-end="};">
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="structsdb____log__module____.html">  188</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>{</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="structsdb____log__module____.html#a337f8a5932aa8ec9e64f12f8c862e75d">  190</a></span>    <span class="keyword">const</span> <span class="keywordtype">char</span>     *<a class="code hl_variable" href="structsdb____log__module____.html#a337f8a5932aa8ec9e64f12f8c862e75d">Name</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno"><a class="line" href="structsdb____log__module____.html#a70af395937836e15fde03b4a8fbd8454">  191</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>             <a class="code hl_variable" href="structsdb____log__module____.html#a70af395937836e15fde03b4a8fbd8454">BufferSize</a>;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">  192</a></span>    <span class="keywordtype">char</span>           *<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="structsdb____log__module____.html#a80f57298bc2c594b593695fd5b228f94">  193</a></span>    pthread_mutex_t <a class="code hl_variable" href="structsdb____log__module____.html#a80f57298bc2c594b593695fd5b228f94">Lock</a>;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a472a9bc6b8e6adcf3b4b0d1b337e6edf">  194</a></span>} <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a>;</div>
</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">  196</a></span><a class="code hl_typedef" href="Sdb_8h.html#a85cb35fbe5bf2961d7ad5f26814a91a2">i64</a> <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(<a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module, <span class="keyword">const</span> <span class="keywordtype">char</span> *LogLevel, <span class="keyword">const</span> <span class="keywordtype">char</span> *Fmt, ...)</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <a class="code hl_function" href="TestConstants_8h.html#a942ca748a0c3a7b8b4478ffc6074e0e9">__attribute__</a>((format(printf, 3, 4)));</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span> </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae3d3a85a8490037583f25de420ba3de4">  199</a></span><span class="preprocessor">#define SDB__LOG_LEVEL_CHECK__(level) (SDB_LOG_LEVEL &gt;= SDB_LOG_LEVEL_##level)</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span> </div>
<div class="foldopen" id="foldopen00201" data-start="" data-end="">
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a68766a81288b4280ce8106c00281642a">  201</a></span><span class="preprocessor">#define SDB_LOGGING_NOT_USED                                                                       \</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="preprocessor">    static sdb__log_module__ *Sdb__LogInstance__ __attribute__((used)) = NULL</span></div>
</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span> </div>
<div class="foldopen" id="foldopen00204" data-start="" data-end="">
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a1be582f0309eeb05b815cd4d6c9e7d76">  204</a></span><span class="preprocessor">#define SDB_LOG_REGISTER(module_name)                                                              \</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="preprocessor">    static char       SDB_CONCAT3(Sdb__LogModule, module_name, Buffer__)[SDB_LOG_BUF_SIZE];        \</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="preprocessor">    sdb__log_module__ SDB_CONCAT3(Sdb__LogModule, module_name, __) __attribute__((used))           \</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="preprocessor">    = { .Name       = SDB_STRINGIFY(module_name),                                                  \</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="preprocessor">        .BufferSize = SDB_LOG_BUF_SIZE,                                                            \</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="preprocessor">        .Buffer     = SDB_CONCAT3(Sdb__LogModule, module_name, Buffer__),                          \</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="preprocessor">        .Lock       = PTHREAD_MUTEX_INITIALIZER };                                                       \</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="preprocessor">    static sdb__log_module__ *Sdb__LogInstance__ __attribute__((used))                             \</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="preprocessor">    = &amp;SDB_CONCAT3(Sdb__LogModule, module_name, __)</span></div>
</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span> </div>
<div class="foldopen" id="foldopen00214" data-start="" data-end="">
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ac561cc3cf5a471958b06dc205f1907f6">  214</a></span><span class="preprocessor">#define SDB_LOG_DECLARE(name)                                                                      \</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span><span class="preprocessor">    extern sdb__log_module__  SDB_CONCAT3(Sdb__LogModule, name, __);                               \</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="preprocessor">    static sdb__log_module__ *Sdb__LogInstance__ __attribute__((used))                             \</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span><span class="preprocessor">    = &amp;SDB_CONCAT3(Sdb__LogModule, name, __)</span></div>
</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="foldopen" id="foldopen00219" data-start="" data-end="">
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9ce11f0285edf780ef7fcbd7181f07a7">  219</a></span><span class="preprocessor">#define SDB__LOG__(log_level, fmt, ...)                                                            \</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span><span class="preprocessor">    do {                                                                                           \</span></div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="preprocessor">        if(SDB__LOG_LEVEL_CHECK__(log_level)) {                                                    \</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span><span class="preprocessor">            sdb_errno LogRet = Sdb__WriteLog__(Sdb__LogInstance__, SDB_STRINGIFY(log_level), fmt,  \</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span><span class="preprocessor">                                               ##__VA_ARGS__);                                     \</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span><span class="preprocessor">            assert(LogRet &gt;= 0);                                                                   \</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="preprocessor">        }                                                                                          \</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="preprocessor">    } while(0)</span></div>
</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae330b9811628c30d13cf8115fa5a949e">  228</a></span><span class="preprocessor">#define SdbLogDebug(...)   SDB__LOG__(DBG, ##__VA_ARGS__)</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a5602700939bca0d8a1f0b70f53c69d4b">  229</a></span><span class="preprocessor">#define SdbLogInfo(...)    SDB__LOG__(INF, ##__VA_ARGS__)</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a4f9533d03e8c65dd6dd3eaced0bcde39">  230</a></span><span class="preprocessor">#define SdbLogWarning(...) SDB__LOG__(WRN, ##__VA_ARGS__)</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a540ab39554b186117643de22dc81f4b3">  231</a></span><span class="preprocessor">#define SdbLogError(...)   SDB__LOG__(ERR, ##__VA_ARGS__)</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="preprocessor">#if SDB_ASSERT == 1</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="preprocessor">#define SdbAssert(condition, fmt, ...)                                                             \</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="preprocessor">    do {                                                                                           \</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="preprocessor">        if(!(condition)) {                                                                         \</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="preprocessor">            Sdb__WriteLog__(Sdb__LogInstance__, &quot;DBG&quot;, &quot;ASSERT (%s,%d): &quot; fmt, __func__, __LINE__, \</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="preprocessor">                            ##__VA_ARGS__);                                                        \</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="preprocessor">            assert(condition);                                                                     \</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="preprocessor">        }                                                                                          \</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="preprocessor">    } while(0)</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a3c03c1d20e7e7feef48589ab34c76bab">  243</a></span><span class="preprocessor">#define SdbAssert(...)</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="comment">//               MEMORY               //</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="foldopen" id="foldopen00249" data-start="{" data-end="};">
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno"><a class="line" href="structsdb__slice.html">  249</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsdb__slice.html">sdb_slice</a></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>{</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="structsdb__slice.html#ac35578769c517d2b0b0ab879df810d4f">  251</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_variable" href="structsdb__slice.html#ac35578769c517d2b0b0ab879df810d4f">Len</a>;</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno"><a class="line" href="structsdb__slice.html#a0669f63790a3cac1d5e4b47bdc7701eb">  252</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_variable" href="structsdb__slice.html#a0669f63790a3cac1d5e4b47bdc7701eb">ESize</a>;</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno"><a class="line" href="structsdb__slice.html#a123da1863438c3fedb2656564e0a0b83">  253</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *<a class="code hl_variable" href="structsdb__slice.html#a123da1863438c3fedb2656564e0a0b83">Mem</a>;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ab69aeeea05b759e1d057ba95fda87e4c">  254</a></span>} <a class="code hl_struct" href="structsdb__slice.html">sdb_slice</a>;</div>
</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="foldopen" id="foldopen00256" data-start="{" data-end="};">
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="structsdb__arena.html">  256</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>{</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">  258</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a>;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="structsdb__arena.html#a8690c25e96e37eb0c7aea12e8b62b383">  259</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_variable" href="structsdb__arena.html#a8690c25e96e37eb0c7aea12e8b62b383">Cap</a>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">  260</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *<a class="code hl_variable" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">Mem</a>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a7dfc4eddab10fd62dae912cf0b635d23">  262</a></span>} <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a>;</div>
</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span> </div>
<div class="foldopen" id="foldopen00264" data-start="{" data-end="};">
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno"><a class="line" href="structsdb__scratch__arena.html">  264</a></span><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>{</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="structsdb__scratch__arena.html#a3f108684702218e8755d5030e053525b">  266</a></span>    <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *<a class="code hl_variable" href="structsdb__scratch__arena.html#a3f108684702218e8755d5030e053525b">Arena</a>;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="structsdb__scratch__arena.html#a3d80ef1c6c7aaf2cbb9cd35bf7c9da78">  267</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>        <a class="code hl_variable" href="structsdb__scratch__arena.html#a3d80ef1c6c7aaf2cbb9cd35bf7c9da78">F5</a>;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>} <a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a>;</div>
</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span> </div>
<div class="foldopen" id="foldopen00271" data-start="{" data-end="};">
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno"><a class="line" href="structsdb____thread__arenas____.html">  271</a></span><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>{</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno"><a class="line" href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">  273</a></span>    <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> **<a class="code hl_variable" href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">Arenas</a>;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="structsdb____thread__arenas____.html#a8e12e2394bbfbf88b17fe3c1316585df">  274</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>         <a class="code hl_variable" href="structsdb____thread__arenas____.html#a8e12e2394bbfbf88b17fe3c1316585df">Count</a>;</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="structsdb____thread__arenas____.html#a7270fed057418caf4c7b5cdab3375a9e">  275</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>         <a class="code hl_variable" href="structsdb____thread__arenas____.html#a7270fed057418caf4c7b5cdab3375a9e">MaxCount</a>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span> </div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>} <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a>;</div>
</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="foldopen" id="foldopen00280" data-start="" data-end="">
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a8a30be85abed02e496450bcf2f584e1f">  280</a></span><span class="preprocessor">#define SDB_THREAD_ARENAS_REGISTER(thread_name, count)                                             \</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="preprocessor">    static __thread sdb_arena *SDB_CONCAT3(Sdb__ThreadArenas, thread_name, Buffer__)[count]        \</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="preprocessor">        __attribute__((used));                                                                     \</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="preprocessor">    __thread sdb__thread_arenas__ SDB_CONCAT3(Sdb__ThreadArenas, thread_name, __)                  \</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="preprocessor">        __attribute__((used))                                                                      \</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="preprocessor">        = { .Arenas = NULL, .Count = 0, .MaxCount = count };                                       \</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="preprocessor">    static __thread sdb__thread_arenas__ *Sdb__ThreadArenasInstance__ __attribute__((used))</span></div>
</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span> </div>
<div class="foldopen" id="foldopen00288" data-start="" data-end="">
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a8f24120f4036cc4431867e2a0966fac9">  288</a></span><span class="preprocessor">#define SDB_THREAD_ARENAS_EXTERN(thread_name)                                                      \</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="preprocessor">    extern __thread sdb__thread_arenas__  SDB_CONCAT3(Sdb__ThreadArenas, thread_name, __);         \</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="preprocessor">    static __thread sdb__thread_arenas__ *Sdb__ThreadArenasInstance__ __attribute__((used))</span></div>
</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="comment">// WARN: Must be used at runtime, not compile time. This is because you cannot take the address</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span><span class="comment">// of a __thread varible in static initialization, since the address will differ per thread.</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a42f445019283e8ac8784728c1544e1b6">  294</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#a42f445019283e8ac8784728c1544e1b6">Sdb__ThreadArenasInit__</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *TABuf[], <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAs,</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                             <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> **TAInstance);</div>
<div class="foldopen" id="foldopen00296" data-start="" data-end="">
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a2accbc5e7d29da043dbec67a10edb11d">  296</a></span><span class="preprocessor">#define SdbThreadArenasInit(thread_name)                                                           \</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="preprocessor">    Sdb__ThreadArenasInit__(SDB_CONCAT3(Sdb__ThreadArenas, thread_name, Buffer__),                 \</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span><span class="preprocessor">                            &amp;SDB_CONCAT3(Sdb__ThreadArenas, thread_name, __),                      \</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span><span class="preprocessor">                            &amp;Sdb__ThreadArenasInstance__)</span></div>
</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ac53e895445271af62d760fc413134b98">  301</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#ac53e895445271af62d760fc413134b98">Sdb__ThreadArenasInitExtern__</a>(<a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAs, <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> **TAInstance);</div>
<div class="foldopen" id="foldopen00302" data-start="" data-end="">
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ad44890b0ad742002182bc25ee02be6e5">  302</a></span><span class="preprocessor">#define SdbThreadArenasInitExtern(thread_name)                                                     \</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="preprocessor">    Sdb__ThreadArenasInitExtern__(&amp;SDB_CONCAT3(Sdb__ThreadArenas, thread_name, __),                \</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="preprocessor">                                  &amp;Sdb__ThreadArenasInstance__)</span></div>
</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span> </div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ad5a4c35db7b941b84d64d874bb7faf3a">  307</a></span><a class="code hl_typedef" href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">sdb_errno</a> <a class="code hl_function" href="Sdb_8h.html#ad5a4c35db7b941b84d64d874bb7faf3a">Sdb__ThreadArenasAdd__</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAInstance);</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9d282cef0b9a5f46d3d0f7fbd83856c0">  308</a></span><span class="preprocessor">#define SdbThreadArenasAdd(arena) Sdb__ThreadArenasAdd__(arena, Sdb__ThreadArenasInstance__)</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span> </div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a7d36f635ee473a12e82ed102ab4597a3">  310</a></span><a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a> <a class="code hl_function" href="Sdb_8h.html#a7d36f635ee473a12e82ed102ab4597a3">SdbScratchBegin</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="Sdb_8h.html#af59aaa6b0e0b1a6aefd73b67c5ad729f">  312</a></span><a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a> <a class="code hl_function" href="Sdb_8h.html#af59aaa6b0e0b1a6aefd73b67c5ad729f">Sdb__ScratchGet__</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> **Conflicts, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ConflictCount,</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                                    <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAs);</div>
<div class="foldopen" id="foldopen00314" data-start="" data-end="">
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aa9493de91fd8b75c01765c25ace225f6">  314</a></span><span class="preprocessor">#define SdbScratchGet(conflicts, conflict_count)                                                   \</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="preprocessor">    Sdb__ScratchGet__(conflicts, conflict_count, Sdb__ThreadArenasInstance__)</span></div>
</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ac49260838307c97ac46dfb2a0e83a7c9">  317</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#ac49260838307c97ac46dfb2a0e83a7c9">Sdb__ScratchRelease__</a>(<a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a> Scratch);</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a11b4378ae5441bfe3ce797aa51c56155">  318</a></span><span class="preprocessor">#define SdbScratchRelease(scratch) Sdb__ScratchRelease__(scratch)</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a> <a class="code hl_function" href="Sdb_8h.html#a7d36f635ee473a12e82ed102ab4597a3">SdbScratchBegin</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a8be20005831571cc149d3e7cc3139dac">  322</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#a8be20005831571cc149d3e7cc3139dac">SdbMemZero</a>(<span class="keywordtype">void</span> *Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adbed09cdb1e603fb23e9715e308094c9">  323</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#adbed09cdb1e603fb23e9715e308094c9">SdbMemZeroSecure</a>(<span class="keywordtype">void</span> *Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a479dc8e93c800a8dda6c7ed997f2aa8e">  324</a></span><span class="preprocessor">#define SdbMemZeroStruct(struct)       SdbMemZero(struct, sizeof(*struct))</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a376b73ecc342cab02cf2049cc9e35d93">  325</a></span><span class="preprocessor">#define SdbMemZeroStructSecure(struct) SdbMemZeroSecure(struct, sizeof(*struct))</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">  327</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">SdbMemcpy</a>(<span class="keywordtype">void</span> *__restrict To, <span class="keyword">const</span> <span class="keywordtype">void</span> *__restrict From, <span class="keywordtype">size_t</span> Len);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a2758760564fc0044b9f6c9aee290a7fe">  328</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#a2758760564fc0044b9f6c9aee290a7fe">SdbMemset</a>(<span class="keywordtype">void</span> *__restrict Data, <span class="keywordtype">int</span> SetTo, <span class="keywordtype">size_t</span> Len);</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a13c0a063261b06c0a48bb53e10bdfd9d">  329</a></span><span class="keywordtype">bool</span>  <a class="code hl_function" href="Sdb_8h.html#a13c0a063261b06c0a48bb53e10bdfd9d">SdbMemcmp</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *Lhs, <span class="keyword">const</span> <span class="keywordtype">void</span> *Rhs, <span class="keywordtype">size_t</span> Len);</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span> </div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ab63e953fd90c628d5c0727287df66fab">  331</a></span><span class="keywordtype">void</span>       <a class="code hl_function" href="Sdb_8h.html#ab63e953fd90c628d5c0727287df66fab">SdbArenaInit</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aaf34881f50372f5c1932078f4439bc5a">  332</a></span><a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *<a class="code hl_function" href="Sdb_8h.html#aaf34881f50372f5c1932078f4439bc5a">SdbArenaBootstrap</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *NewArena_, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span> </div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a77f49f2da4cf9e662d7cb63fe2c677dd">  334</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#a77f49f2da4cf9e662d7cb63fe2c677dd">SdbArenaPush</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a0265572c2aede5f392159deee7b606c0">  335</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#a0265572c2aede5f392159deee7b606c0">SdbArenaPushZero</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ad062fbabf603cdd569d861297d429c4b">  336</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#ad062fbabf603cdd569d861297d429c4b">SdbArenaPop</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae0653111be0436f3c1b8ab9efb3861c2">  338</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>   <a class="code hl_function" href="Sdb_8h.html#ae0653111be0436f3c1b8ab9efb3861c2">SdbArenaRemaining</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a05ee63d567b60fbc2b9e6732f4154a48">  339</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>   <a class="code hl_function" href="Sdb_8h.html#a05ee63d567b60fbc2b9e6732f4154a48">SdbArenaGetPos</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9a812984d9d5b96c810aea56d3cb526d">  340</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#a9a812984d9d5b96c810aea56d3cb526d">SdbArenaSeek</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Pos);</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a189cec96c8de01506b1aabadebdc3e36">  341</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>   <a class="code hl_function" href="Sdb_8h.html#a189cec96c8de01506b1aabadebdc3e36">SdbArenaReserve</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size);</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span> </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ab38d94a0b56df0604f07862a93856990">  343</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#ab38d94a0b56df0604f07862a93856990">SdbArenaClear</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adeff24e101815f4afba0ac2f84b38da9">  344</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#adeff24e101815f4afba0ac2f84b38da9">SdbArenaClearZero</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span> </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a4448f1a74f8d826323ae8891cd4774b4">  346</a></span><span class="preprocessor">#define SdbPushArray(arena, type, count)     (type *)SdbArenaPush(arena, sizeof(type) * (count))</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ae52e2591d264b7ed43adf97f0539177f">  347</a></span><span class="preprocessor">#define SdbPushArrayZero(arena, type, count) (type *)SdbArenaPushZero(arena, sizeof(type) * (count))</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aeeeca84b57511813afd5947eba0b7011">  349</a></span><span class="preprocessor">#define SdbPushStruct(arena, type)     SdbPushArray(arena, type, 1)</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno"><a class="line" href="Sdb_8h.html#acc229868390e0e5a8a78c65baae10c73">  350</a></span><span class="preprocessor">#define SdbPushStructZero(arena, type) SdbPushArrayZero(arena, type, 1)</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span> </div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a56e1c591314b08089fe65b5a5966f6bb">  352</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#a56e1c591314b08089fe65b5a5966f6bb">SdbArrayShift</a>(<span class="keywordtype">void</span> *Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> From, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> To, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Count, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementSize);</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a29e81b0ef16aded455dc004cb87261b9">  353</a></span><span class="preprocessor">#define SdbArrayDeleteAndShift(mem, i, count, esize) SdbArrayShift(mem, (i + 1), i, count, esize)</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="foldopen" id="foldopen00355" data-start="" data-end="">
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ad3dfd25054c114bc5b1466d02f19483c">  355</a></span><span class="preprocessor">#define SDB_POOL_ALLOCATOR_DEFINE(type_name, func_name)                                            \</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="preprocessor">    typedef struct type_name##_pool                                                                \</span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="preprocessor">    {                                                                                              \</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="preprocessor">        sdb_arena *Arena;                                                                          \</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span><span class="preprocessor">        type_name *FirstFree;                                                                      \</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="preprocessor">    } type_name##_pool;                                                                            \</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="preprocessor">                                                                                                   \</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="preprocessor">    type_name *func_name##Alloc(type_name##_pool *Pool)                                            \</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="preprocessor">    {                                                                                              \</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="preprocessor">        type_name *Result = Pool-&gt;FirstFree;                                                       \</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="preprocessor">        if(Result) {                                                                               \</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span><span class="preprocessor">            Pool-&gt;FirstFree = Pool-&gt;FirstFree-&gt;Next;                                               \</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="preprocessor">            SdbMemZeroStruct(Result);                                                              \</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="preprocessor">        } else {                                                                                   \</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span><span class="preprocessor">            Result = SdbPushStructZero(Pool-&gt;Arena, type_name);                                    \</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span><span class="preprocessor">        }                                                                                          \</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span><span class="preprocessor">                                                                                                   \</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span><span class="preprocessor">        return Result;                                                                             \</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="preprocessor">    }                                                                                              \</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span><span class="preprocessor">                                                                                                   \</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span><span class="preprocessor">    void func_name##Release(type_name##_pool *Pool, type_name *Instance)                           \</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="preprocessor">    {                                                                                              \</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span><span class="preprocessor">        Instance-&gt;Next  = Pool-&gt;FirstFree;                                                         \</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="preprocessor">        Pool-&gt;FirstFree = Instance;                                                                \</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="preprocessor">    }</span></div>
</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="comment">//              STRINGS               //</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span><span class="comment">// NOTE(ingar): These are libc equivalents and are intended to be used with regular C-strings, not</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span><span class="comment">// sdb_strings</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a036cc1615c9626212e0803887ee46e28">  387</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>   <a class="code hl_function" href="Sdb_8h.html#a036cc1615c9626212e0803887ee46e28">SdbStrnlen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Max);</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">  388</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>   <a class="code hl_function" href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">SdbStrlen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *String);</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9b40095314796f7ec7984b9fe2f157b5">  389</a></span><span class="keywordtype">char</span> *<a class="code hl_function" href="Sdb_8h.html#a9b40095314796f7ec7984b9fe2f157b5">SdbStrdup</a>(<span class="keywordtype">char</span> *String, <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span> </div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="comment">// Based on ginger bills gbString implementation.</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="comment">//</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span><span class="comment">// A few assumptions being made:</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="comment">// The strings are not intended to be reallocated at a new address. If something has been pushed</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span><span class="comment">// onto the arena, and you use a function that increases the strings length or capacity, it will</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="comment">// *NOT* work (at least for the moment).</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="comment">//</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="comment">// The way it works is that sdb_string functions return a pointer to to the C-string, which is</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="comment">// always null-terminated, while an &quot;invisible&quot; header precedes it in memory. The advantage of this</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="comment">// is that an sdb_string can be passed to any function that accepts a C-string, and it will work</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span><span class="comment">// correctly. This avoids the typical &quot;improved strings&quot; pattern of having to access the string a la</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="comment">// custom_string-&gt;cstring. This improves the ergonomics of sdb_strings, and also improves cache</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="comment">// behavior since the header and the C-string are always contiguous in memory.</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">  405</a></span><span class="keyword">typedef</span> <span class="keywordtype">char</span> *<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a>;</div>
<div class="foldopen" id="foldopen00406" data-start="{" data-end="};">
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno"><a class="line" href="structsdb__string__header.html">  406</a></span><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>{</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno"><a class="line" href="structsdb__string__header.html#a84b53f149632d35824e806b66f343f85">  408</a></span>    <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *<a class="code hl_variable" href="structsdb__string__header.html#a84b53f149632d35824e806b66f343f85">Arena</a>;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno"><a class="line" href="structsdb__string__header.html#a556787d1d05542b1594037e9da071f51">  409</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>        <a class="code hl_variable" href="structsdb__string__header.html#a556787d1d05542b1594037e9da071f51">Len</a>;</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="structsdb__string__header.html#a4616749be128339ee34040ffd4314120">  410</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>        <a class="code hl_variable" href="structsdb__string__header.html#a4616749be128339ee34040ffd4314120">Cap</a>;</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span> </div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>} <a class="code hl_struct" href="structsdb__string__header.html">sdb_string_header</a>;</div>
</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno"><a class="line" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">  414</a></span><span class="preprocessor">#define SDB_STRING_HEADER(str) ((sdb_string_header *)(str) - 1)</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno"><a class="line" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">  416</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a6a14d987497bcbbeff48fe5ccc5882dc">  417</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_function" href="Sdb_8h.html#a6a14d987497bcbbeff48fe5ccc5882dc">SdbStringCap</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9d210cf847af6b4674bb7fafc02b0991">  418</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_function" href="Sdb_8h.html#a9d210cf847af6b4674bb7fafc02b0991">SdbStringAvailableSpace</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aa08a2e73f3907302fda88dbf4cb08f75">  419</a></span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_function" href="Sdb_8h.html#aa08a2e73f3907302fda88dbf4cb08f75">SdbStringAllocSize</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span> </div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ab910235b10b570b49cf7ff8c3cb9a9f0">  421</a></span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_function" href="Sdb_8h.html#ab910235b10b570b49cf7ff8c3cb9a9f0">SdbStringMakeSpace</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> AddLen);</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno"><a class="line" href="Sdb_8h.html#acd332199b77e76c2b764ef93a7b60439">  422</a></span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_function" href="Sdb_8h.html#acd332199b77e76c2b764ef93a7b60439">SdbStringMake</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *A, <span class="keyword">const</span> <span class="keywordtype">char</span> *String);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a6be673802fff3fd52d2e3406bce25b1f">  423</a></span><span class="keywordtype">void</span>       <a class="code hl_function" href="Sdb_8h.html#a6be673802fff3fd52d2e3406bce25b1f">SdbStringFree</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a84dc05a7798d0fbc26a71cb94eefb001">  425</a></span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_function" href="Sdb_8h.html#a84dc05a7798d0fbc26a71cb94eefb001">SdbStringDuplicate</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *A, <span class="keyword">const</span> <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a3ae9670b731e5246a1f4f931547730c8">  426</a></span><span class="keywordtype">void</span>       <a class="code hl_function" href="Sdb_8h.html#a3ae9670b731e5246a1f4f931547730c8">SdbStringClear</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ad8cb96dc776728fa2edfceebc29dfa56">  427</a></span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_function" href="Sdb_8h.html#ad8cb96dc776728fa2edfceebc29dfa56">SdbStringSet</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <span class="keyword">const</span> <span class="keywordtype">char</span> *CString);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno"><a class="line" href="Sdb_8h.html#af443df2d401ad3eca43919e5cf1a7118">  428</a></span><span class="keywordtype">void</span>       <a class="code hl_function" href="Sdb_8h.html#af443df2d401ad3eca43919e5cf1a7118">SdbStringBackspace</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> N);</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span> </div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a2f3b726bde5f66a61dee9805406813ee">  430</a></span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_function" href="Sdb_8h.html#a2f3b726bde5f66a61dee9805406813ee">SdbStringAppend</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> Other);</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a28c30cfe4c8326befba64bf54397bc47">  431</a></span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_function" href="Sdb_8h.html#a28c30cfe4c8326befba64bf54397bc47">SdbStringAppendC</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <span class="keyword">const</span> <span class="keywordtype">char</span> *Other);</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno"><a class="line" href="Sdb_8h.html#adb598df288598cf1c13afc15e3f7e6c2">  432</a></span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_function" href="Sdb_8h.html#adb598df288598cf1c13afc15e3f7e6c2">SdbStringAppendFmt</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <span class="keyword">const</span> <span class="keywordtype">char</span> *Fmt, ...)</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <a class="code hl_function" href="TestConstants_8h.html#a942ca748a0c3a7b8b4478ffc6074e0e9">__attribute__</a>((format(printf, 2, 3)));</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a394dc798b356ef5cb8aa98d65a12ba14">  435</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="Sdb_8h.html#a394dc798b356ef5cb8aa98d65a12ba14">SdbStringsAreEqual</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> Lhs, <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> Rhs);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span> </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span><span class="comment">//                RNG                 //</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span><span class="comment">// Implementation of the PCG algorithm (https://www.pcg-random.org)</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span><span class="comment">// It&#39;s the caller&#39;s responsibilites to have called SeedRandPCG before use</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span><span class="comment">// WARN: The pcg state is statically allocated inside Sdb__GetPCGState__, and is not protected by a</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="comment">// lock, which means race conditions can occurr if multiple threads use it! (Though maybe this</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="comment">// actually improves unpredictability?)</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno"><a class="line" href="Sdb_8h.html#aa1375a2f998679ba730511efa197a612">  448</a></span><a class="code hl_typedef" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *<a class="code hl_function" href="Sdb_8h.html#aa1375a2f998679ba730511efa197a612">Sdb__GetPCGState__</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a2a25c1b6577a53a91da5cc4c6f14b4c9">  449</a></span><a class="code hl_typedef" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a>  <a class="code hl_function" href="Sdb_8h.html#a2a25c1b6577a53a91da5cc4c6f14b4c9">SdbRandPCG</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a97814e6defd62abc5a012cd186cee1f6">  450</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#a97814e6defd62abc5a012cd186cee1f6">SdbSeedRandPCG</a>(uint32_t Seed);</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="comment">//              FILE IO                //</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span> </div>
<div class="foldopen" id="foldopen00456" data-start="{" data-end="};">
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno"><a class="line" href="structsdb__file__data.html">  456</a></span>typedef struct</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>{</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno"><a class="line" href="structsdb__file__data.html#a884c0d9a292498a03b8bfa48dc6b788d">  458</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_variable" href="structsdb__file__data.html#a884c0d9a292498a03b8bfa48dc6b788d">Size</a>;</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno"><a class="line" href="structsdb__file__data.html#ae6a76c0310fc6c75ce749d551527513d">  459</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>  Data[];</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>} <a class="code hl_struct" href="structsdb__file__data.html">sdb_file_data</a>;</div>
</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a5ee7553cb2684af20d146fcf1cc6538f">  462</a></span><a class="code hl_struct" href="structsdb__file__data.html">sdb_file_data</a> *<a class="code hl_function" href="Sdb_8h.html#a5ee7553cb2684af20d146fcf1cc6538f">SdbLoadFileIntoMemory</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *Filename, <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena);</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a6a4a9329e7dccd8f8850757d361ffed5">  463</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="Sdb_8h.html#a6a4a9329e7dccd8f8850757d361ffed5">SdbWriteBufferToFile</a>(<span class="keywordtype">void</span> *Buffer, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementSize, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementCount, <span class="keyword">const</span> <span class="keywordtype">char</span> *Filename);</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a48480005f204ce090dcbe59654be15fe">  464</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="Sdb_8h.html#a48480005f204ce090dcbe59654be15fe">SdbWrite_sdb_file_data_ToFile</a>(<a class="code hl_struct" href="structsdb__file__data.html">sdb_file_data</a> *FileData, <span class="keyword">const</span> <span class="keywordtype">char</span> *Filename);</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span> </div>
<div class="foldopen" id="foldopen00466" data-start="{" data-end="};">
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno"><a class="line" href="structsdb__mmap.html">  466</a></span><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>{</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno"><a class="line" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">  468</a></span>    <span class="keywordtype">void</span>      *<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a>;     <span class="comment">// Mapped memory region</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno"><a class="line" href="structsdb__mmap.html#afb2c2e72e4177b38c2b97e02cc7123b7">  469</a></span>    <span class="keywordtype">size_t</span>     <a class="code hl_variable" href="structsdb__mmap.html#afb2c2e72e4177b38c2b97e02cc7123b7">Size</a>;     <span class="comment">// Size of mapping</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno"><a class="line" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">  470</a></span>    <span class="keywordtype">int</span>        <a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>;       <span class="comment">// File descriptor (kept open if requested)</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno"><a class="line" href="structsdb__mmap.html#a56f50205cb9008701881ce8fcb2bdc2c">  471</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> <a class="code hl_variable" href="structsdb__mmap.html#a56f50205cb9008701881ce8fcb2bdc2c">Filename</a>; <span class="comment">// Copy of filename for cleanup</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno"><a class="line" href="structsdb__mmap.html#adf82220cab472adc50518936c4b4d15e">  472</a></span>    <span class="keywordtype">int</span>        <a class="code hl_variable" href="structsdb__mmap.html#adf82220cab472adc50518936c4b4d15e">Flags</a>;    <span class="comment">// Saved flags for cleanup</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>} <a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a>;</div>
</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span> </div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a5fc44182217ffd30eee4859cce9a0518">  575</a></span><a class="code hl_typedef" href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">sdb_errno</a> <a class="code hl_function" href="Sdb_8h.html#a5fc44182217ffd30eee4859cce9a0518">Sdb__MemMap__</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map, <span class="keywordtype">void</span> *MAddr, <span class="keywordtype">size_t</span> MSize, <span class="keywordtype">int</span> MProt, <span class="keywordtype">int</span> MFlags, <span class="keywordtype">int</span> MFd,</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>                        off_t MOffset, <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> FileName, <span class="keywordtype">int</span> OFlags, mode_t OMode,</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>                        <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module);</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span> </div>
<div class="foldopen" id="foldopen00579" data-start="" data-end="">
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a064529f733ba9d0295e0bf9a8a37b8b2">  579</a></span><span class="preprocessor">#define SdbMemMap(map, maddr, msize, mprot, mflags, mfd, moffset, filename, oflags, omode)         \</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span><span class="preprocessor">    Sdb__MemMap__(map, maddr, msize, mprot, mflags, mfd, moffset, filename, oflags, omode,         \</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><span class="preprocessor">                  Sdb__LogInstance__)</span></div>
</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span> </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a90d4c5571618a22851988f1df50ba874">  583</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="Sdb_8h.html#a90d4c5571618a22851988f1df50ba874">SdbMemUnmap</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map);</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a582b461f6d1f07bfafe74e6dfc7d76f4">  584</a></span><span class="keywordtype">int</span>  <a class="code hl_function" href="Sdb_8h.html#a582b461f6d1f07bfafe74e6dfc7d76f4">SdbMemMapSync</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map);</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ac2c9db63b55c8006db953ee8e04d7c33">  585</a></span><span class="keywordtype">int</span>  <a class="code hl_function" href="Sdb_8h.html#ac2c9db63b55c8006db953ee8e04d7c33">SdbMemMapAdvise</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map, <span class="keywordtype">int</span> Advice);</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span> </div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span><span class="comment">//            &quot;TOKENIZER&quot;             //</span></div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span> </div>
<div class="foldopen" id="foldopen00591" data-start="{" data-end="};">
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno"><a class="line" href="structsdb__token.html">  591</a></span><span class="keyword">typedef</span> <span class="keyword">struct</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>{</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno"><a class="line" href="structsdb__token.html#acb87559e97618ba5fb17c3cc5a7ec83c">  593</a></span>    <span class="keywordtype">char</span> *<a class="code hl_variable" href="structsdb__token.html#acb87559e97618ba5fb17c3cc5a7ec83c">Start</a>;</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno"><a class="line" href="structsdb__token.html#a605f3a48562e3ffb8c1c02151569f096">  594</a></span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>   <a class="code hl_variable" href="structsdb__token.html#a605f3a48562e3ffb8c1c02151569f096">Len</a>;</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>} <a class="code hl_struct" href="structsdb__token.html">sdb_token</a>;</div>
</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span> </div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a94089238fcd7ef1ccf16306b6776bcc9">  598</a></span><a class="code hl_struct" href="structsdb__token.html">sdb_token</a> <a class="code hl_function" href="Sdb_8h.html#a94089238fcd7ef1ccf16306b6776bcc9">SdbGetNextToken</a>(<span class="keywordtype">char</span> **Cursor);</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span><span class="comment">//            MEM TRACE               //</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span> </div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a7dbdfb31944cef3c8e71924f052fe58d">  604</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#a7dbdfb31944cef3c8e71924f052fe58d">Sdb__MallocTrace__</a>(<span class="keywordtype">size_t</span> Size, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func, <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module);</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno"><a class="line" href="Sdb_8h.html#ad1121aae1cd16b9c56f54b7e9a2a08a4">  605</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#ad1121aae1cd16b9c56f54b7e9a2a08a4">Sdb__CallocTrace__</a>(<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementCount, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementSize, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func,</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>                         <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module);</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a9e7187254b0c00c962b2418c55f0235d">  607</a></span><span class="keywordtype">void</span> *<a class="code hl_function" href="Sdb_8h.html#a9e7187254b0c00c962b2418c55f0235d">Sdb__ReallocTrace__</a>(<span class="keywordtype">void</span> *Pointer, <span class="keywordtype">size_t</span> Size, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func,</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>                          <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno"><a class="line" href="Sdb_8h.html#a45645d8c9ff873de84ddee3bd444be56">  609</a></span><span class="keywordtype">void</span>  <a class="code hl_function" href="Sdb_8h.html#a45645d8c9ff873de84ddee3bd444be56">Sdb__FreeTrace__</a>(<span class="keywordtype">void</span> *Pointer, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func, <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module);</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span><span class="preprocessor">#if SDB_MEM_TRACE == 1</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span><span class="preprocessor">#define malloc(Size)        Sdb__MallocTrace__(Size, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span><span class="preprocessor">#define calloc(Count, Size) Sdb__CallocTrace__(Count, Size, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span><span class="preprocessor">#define realloc(Pointer, Size)                                                                     \</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span><span class="preprocessor">    Sdb__ReallocTrace__(Pointer, Size, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span><span class="preprocessor">#define free(Pointer) Sdb__FreeTrace__(Pointer, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span> </div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span><span class="preprocessor">#if defined(__cplusplus)</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><a class="code hl_define" href="Sdb_8h.html#a647179d48383687d63d34d188cf7f5dc">SDB_END_EXTERN_C</a></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span><span class="preprocessor">#endif </span><span class="comment">// SDB_H_INCLUDE</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span> </div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span><span class="comment">// WARN: Only one file in a program should define SDB_H_IMPLEMENTATION, otherwise you will get</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span><span class="comment">// redefintion errors</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span><span class="comment">// #define SDB_H_IMPLEMENTATION</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span><span class="preprocessor">#ifdef SDB_H_IMPLEMENTATION</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span> </div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span><span class="comment">// NOTE(ingar): The reason this is done is so that functions inside Sdb.h don&#39;t use the trace</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="comment">// macros. The macros are redefined at the bottom</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="preprocessor">#if SDB_MEM_TRACE == 1</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="preprocessor">#undef malloc</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span><span class="preprocessor">#undef calloc</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="preprocessor">#undef realloc</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="preprocessor">#undef free</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><span class="comment">//               MISC                 //</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span> </div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="keywordtype">bool</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span><a class="code hl_function" href="Sdb_8h.html#a4754efd06c6316d855123cb51b8eb023">SdbDoubleEpsilonCompare</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> A, <span class="keyword">const</span> <span class="keywordtype">double</span> B)</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>{</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>    <span class="keywordtype">double</span> GreatestValue = (fabs(A) &lt; fabs(B)) ? fabs(B) : fabs(A);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>    <span class="keywordflow">return</span> fabs(A - B) &lt;= (GreatestValue * DBL_EPSILON);</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>}</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span> </div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><a class="code hl_function" href="Sdb_8h.html#abc08b49e10f062c04d34f7b4afc14615">SdbDoubleSignBit</a>(<span class="keywordtype">double</span> F)</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>{</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>  Mask = 1ULL &lt;&lt; 63;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> *Comp = (<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> *)&amp;F;</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <span class="keywordflow">return</span> (*Comp) &amp; Mask;</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>}</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span><span class="keywordtype">double</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span><a class="code hl_function" href="Sdb_8h.html#a6559ed03eb1183c66527b6dc79d6c079">SdbRadiansFromDegrees</a>(<span class="keywordtype">double</span> Degrees)</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>{</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <span class="keywordtype">double</span> Radians = 0.01745329251994329577f * Degrees;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <span class="keywordflow">return</span> Radians;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>}</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span> </div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span><span class="keywordtype">size_t</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><a class="code hl_function" href="Sdb_8h.html#a3bc1152307e502260c7363261ded3603">SdbMemSizeFromString</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *SizeStr)</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>{</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>    <span class="keywordflow">if</span>(!SizeStr || !*SizeStr) {</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    }</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span> </div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keywordtype">char</span>  *EndPtr;</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keywordtype">size_t</span> Value = strtoull(SizeStr, &amp;EndPtr, 10);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span> </div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    <span class="keywordflow">if</span>(EndPtr == SizeStr) {</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        <span class="keywordflow">return</span> 0; <span class="comment">// No number found</span></div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    }</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span> </div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <span class="keywordflow">while</span>(isspace(*EndPtr)) {</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>        EndPtr++;</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>    }</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>    <span class="keywordflow">if</span>(!*EndPtr) {</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>        <span class="keywordflow">return</span> Value;</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>    }</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span> </div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <span class="keywordtype">size_t</span> Multiplier = 0;</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <span class="keywordflow">switch</span>(*EndPtr) {</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>:</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            Multiplier = 1000ULL * 1000ULL * 1000ULL * 1000ULL;</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>            Multiplier = 1024ULL * 1024ULL * 1024ULL * 1024ULL;</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>:</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>            Multiplier = 1000ULL * 1000ULL * 1000ULL;</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            Multiplier = 1024ULL * 1024ULL * 1024ULL;</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>            Multiplier = 1000ULL * 1000ULL;</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            Multiplier = 1024ULL * 1024ULL;</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>:</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>            Multiplier = 1000ULL;</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span>:</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>            Multiplier = 1024ULL;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>            <span class="comment">// Check if this is just &#39;B&#39; or part of a larger unit</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            <span class="keywordflow">if</span>(EndPtr[1] != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>                Multiplier = 1;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>            }</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    }</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span> </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    <span class="comment">// If we have a unit letter, verify it&#39;s followed by &#39;B&#39; (except for plain &#39;B&#39;)</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>    <span class="keywordflow">if</span>(*EndPtr != <span class="charliteral">&#39;B&#39;</span> &amp;&amp; (EndPtr[1] != <span class="charliteral">&#39;B&#39;</span> || EndPtr[2] != <span class="charliteral">&#39;\0&#39;</span>)) {</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    }</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span> </div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>    <span class="keywordflow">return</span> Value * Multiplier;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>}</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span><span class="comment">//              LOGGING               //</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span><span class="comment">/* Based on the logging frontend I wrote for oec */</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span> </div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span><a class="code hl_typedef" href="Sdb_8h.html#a85cb35fbe5bf2961d7ad5f26814a91a2">i64</a></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span><a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(<a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module, <span class="keyword">const</span> <span class="keywordtype">char</span> *LogLevel, <span class="keyword">const</span> <span class="keywordtype">char</span> *Fmt, ...)</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>{</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    <span class="keywordflow">if</span>(Module == NULL) {</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>        <span class="keywordflow">return</span> 0; <span class="comment">// NOTE(ingar): If the log module is NULL, then we assume logging isn&#39;t used</span></div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>    }</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span> </div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>    pthread_mutex_lock(&amp;Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a80f57298bc2c594b593695fd5b228f94">Lock</a>);</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>    time_t    PosixTime;</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>    <span class="keyword">struct </span>tm TimeInfo;</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>    <span class="keywordflow">if</span>((time_t)(-1) == time(&amp;PosixTime)) {</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>        <span class="keywordflow">return</span> -errno;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    }</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>    <span class="keywordflow">if</span>(NULL == localtime_r(&amp;PosixTime, &amp;TimeInfo)) {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>        <span class="keywordflow">return</span> -errno;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    }</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> CharsWritten    = 0;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> BufferRemaining = Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a70af395937836e15fde03b4a8fbd8454">BufferSize</a>;</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span> </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    <span class="keywordtype">int</span> FormatRet = strftime(Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a>, BufferRemaining, <span class="stringliteral">&quot;%T: &quot;</span>, &amp;TimeInfo);</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <span class="keywordflow">if</span>(0 == FormatRet) {</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>        <span class="comment">// NOTE(ingar): Since the buffer size is at least 128, this should never happen</span></div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>        assert(FormatRet);</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>        <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>    }</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    CharsWritten = FormatRet;</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>    BufferRemaining -= FormatRet;</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span> </div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>    FormatRet = snprintf(Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a> + CharsWritten, BufferRemaining, <span class="stringliteral">&quot;%s: %s: &quot;</span>, Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a337f8a5932aa8ec9e64f12f8c862e75d">Name</a>,</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>                         LogLevel);</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>    <span class="keywordflow">if</span>(FormatRet &lt; 0) {</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>        <span class="keywordflow">return</span> -errno;</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>)FormatRet &gt;= BufferRemaining) {</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>        <span class="comment">// NOTE(ingar): If the log module name is so long that it does not fit in 128 bytes - the</span></div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>        <span class="comment">// time stamp, it should be changed</span></div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>        assert(FormatRet);</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>        <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>    }</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span> </div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>    CharsWritten += FormatRet;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>    BufferRemaining -= FormatRet;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span> </div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>    va_list VaArgs;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    va_start(VaArgs, Fmt);</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    FormatRet = vsnprintf(Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a> + CharsWritten, BufferRemaining, Fmt, VaArgs);</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    va_end(VaArgs);</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span> </div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>    <span class="keywordflow">if</span>(FormatRet &lt; 0) {</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>        <span class="keywordflow">return</span> -errno;</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>)FormatRet &gt;= BufferRemaining) {</div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>        (void)<a class="code hl_function" href="Sdb_8h.html#a2758760564fc0044b9f6c9aee290a7fe">SdbMemset</a>(Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a> + CharsWritten, 0, BufferRemaining);</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>        FormatRet = snprintf(Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a> + CharsWritten, BufferRemaining, <span class="stringliteral">&quot;%s&quot;</span>,</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                             <span class="stringliteral">&quot;Message dropped; too big&quot;</span>);</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>        <span class="keywordflow">if</span>(FormatRet &lt; 0) {</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span>            <span class="keywordflow">return</span> -errno;</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>)FormatRet &gt;= BufferRemaining) {</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            assert(FormatRet);</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            <span class="keywordflow">return</span> -ENOMEM;</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>        }</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    }</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span> </div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    CharsWritten += FormatRet;</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>    Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a>[CharsWritten++] = <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span> </div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>    <span class="keywordtype">int</span> OutFd;</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span>    <span class="keywordflow">if</span>(<span class="charliteral">&#39;E&#39;</span> == LogLevel[0]) {</div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>        OutFd = STDERR_FILENO;</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>        OutFd = STDOUT_FILENO;</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>    }</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span> </div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>    <span class="keywordflow">if</span>((ssize_t)(-1) == write(OutFd, Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">Buffer</a>, CharsWritten)) {</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>        <span class="keywordflow">return</span> -errno;</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>    }</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span> </div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>    pthread_mutex_unlock(&amp;Module-&gt;<a class="code hl_variable" href="structsdb____log__module____.html#a80f57298bc2c594b593695fd5b228f94">Lock</a>);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>}</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span> </div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span><span class="comment">//               MEMORY               //</span></div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span> </div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span><a class="code hl_function" href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">SdbMemcpy</a>(<span class="keywordtype">void</span> *__restrict To, <span class="keyword">const</span> <span class="keywordtype">void</span> *__restrict From, <span class="keywordtype">size_t</span> Len)</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>{</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="comment">// NOTE(ingar): The compiler should replace this with memcpy if it&#39;s available</span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; Len; ++i) {</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>        ((<a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)To)[i] = ((<a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)From)[i];</div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>    }</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span> </div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>    <span class="keywordflow">return</span> To;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>}</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span> </div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span><a class="code hl_function" href="Sdb_8h.html#a2758760564fc0044b9f6c9aee290a7fe">SdbMemset</a>(<span class="keywordtype">void</span> *__restrict Data, <span class="keywordtype">int</span> SetTo, <span class="keywordtype">size_t</span> Len)</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>{</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>    <span class="comment">// NOTE(ingar): The compiler should replace this with memset if it&#39;s available. Don&#39;t ask me why</span></div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    <span class="comment">// you cast it to a u8* and not an int*, but that must be done for it to be replaced</span></div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; Len; ++i) {</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>        ((<a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)Data)[i] = SetTo;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>    }</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>    <span class="keywordflow">return</span> Data;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>}</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span> </div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span><span class="keywordtype">bool</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span><a class="code hl_function" href="Sdb_8h.html#a13c0a063261b06c0a48bb53e10bdfd9d">SdbMemcmp</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *Lhs, <span class="keyword">const</span> <span class="keywordtype">void</span> *Rhs, <span class="keywordtype">size_t</span> Len)</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>{</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>    <span class="comment">// NOTE(ingar): The compiler (probably) won&#39;t replace this one with memcmp, but GCC didn&#39;t</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>    <span class="comment">// replace their own memcmp implementation with a call to memcmp, so that&#39;s just on them</span></div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; Len; ++i) {</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>        <span class="keywordflow">if</span>(((<a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)Lhs)[i] != ((<a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)Rhs)[i]) {</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>        }</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>    }</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>}</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span> </div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span><a class="code hl_function" href="Sdb_8h.html#a8be20005831571cc149d3e7cc3139dac">SdbMemZero</a>(<span class="keywordtype">void</span> *__restrict Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>{</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>    (void)<a class="code hl_function" href="Sdb_8h.html#a2758760564fc0044b9f6c9aee290a7fe">SdbMemset</a>(Mem, 0, Size);</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>}</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span> </div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span><span class="keywordtype">void</span> <span class="comment">/* From https://github.com/BLAKE2/BLAKE2/blob/master/ref/blake2-impl.h */</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span><a class="code hl_function" href="Sdb_8h.html#adbed09cdb1e603fb23e9715e308094c9">SdbMemZeroSecure</a>(<span class="keywordtype">void</span> *Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>{</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>    <span class="comment">// NOTE(ingar): This prevents the compiler from optimizing away memset. This could be replaced</span></div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>    <span class="comment">// by a call to memset_s if one uses C11, but this method should be compatible with earlier C</span></div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>    <span class="comment">// standards</span></div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>    <span class="keyword">static</span> <span class="keywordtype">void</span> *(*<span class="keyword">const</span> <span class="keyword">volatile</span> memset_v)(<span class="keywordtype">void</span> *, <span class="keywordtype">int</span>, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>) = &amp;memset;</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>    (void)memset_v(Mem, 0, Size);</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>}</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span> </div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span><a class="code hl_function" href="Sdb_8h.html#ab63e953fd90c628d5c0727287df66fab">SdbArenaInit</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span>{</div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span>    Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> = 0;</div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span>    Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8690c25e96e37eb0c7aea12e8b62b383">Cap</a> = Size;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span>    Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">Mem</a> = Mem;</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span>}</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span> </div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span><a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span><a class="code hl_function" href="Sdb_8h.html#aaf34881f50372f5c1932078f4439bc5a">SdbArenaBootstrap</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *NewArena_, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>{</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *NewArena;</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <span class="keywordflow">if</span>(NewArena_ == NULL) {</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>        NewArena = <a class="code hl_define" href="Sdb_8h.html#aeeeca84b57511813afd5947eba0b7011">SdbPushStruct</a>(Arena, <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a>);</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>        NewArena = NewArena_;</div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    }</div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *NewArenaMem = <a class="code hl_define" href="Sdb_8h.html#a4448f1a74f8d826323ae8891cd4774b4">SdbPushArray</a>(Arena, <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a>, Size);</div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span> </div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    <span class="keywordflow">if</span>(NULL == NewArena || NULL == NewArenaMem) {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    }</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>    <a class="code hl_function" href="Sdb_8h.html#ab63e953fd90c628d5c0727287df66fab">SdbArenaInit</a>(NewArena, NewArenaMem, Size);</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>    <span class="keywordflow">return</span> NewArena;</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>}</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span> </div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span><span class="comment">// TODO(ingar): Create aligning pushes</span></div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span><a class="code hl_function" href="Sdb_8h.html#a77f49f2da4cf9e662d7cb63fe2c677dd">SdbArenaPush</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>{</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>    <span class="keywordflow">if</span>(Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> + Size &lt;= Arena-&gt;Cap) {</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>        <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *AllocedMem = Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">Mem</a> + Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a>;</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>        Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> += Size;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>        <span class="keywordflow">return</span> AllocedMem;</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>    }</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span> </div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>}</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span> </div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span><a class="code hl_function" href="Sdb_8h.html#a0265572c2aede5f392159deee7b606c0">SdbArenaPushZero</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>{</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>    <span class="keywordflow">if</span>(Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> + Size &lt;= Arena-&gt;Cap) {</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>        <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *AllocedMem = Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">Mem</a> + Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a>;</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span>        Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> += Size;</div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>        <a class="code hl_function" href="Sdb_8h.html#a8be20005831571cc149d3e7cc3139dac">SdbMemZero</a>(AllocedMem, Size);</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>        <span class="keywordflow">return</span> AllocedMem;</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span>    }</div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span> </div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>}</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span> </div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><a class="code hl_function" href="Sdb_8h.html#ae0653111be0436f3c1b8ab9efb3861c2">SdbArenaRemaining</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena)</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span>{</div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <span class="keywordflow">return</span> Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8690c25e96e37eb0c7aea12e8b62b383">Cap</a> - Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a>;</div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>}</div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span> </div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span><span class="comment">// TODO(ingar): Does returning the position add overhead/is it necessary?</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span><a class="code hl_function" href="Sdb_8h.html#ad062fbabf603cdd569d861297d429c4b">SdbArenaPop</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span>{</div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    <span class="keywordflow">if</span>(Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> &gt;= Size) {</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span>        Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> -= Size;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span>        <span class="keywordflow">return</span> Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">Mem</a> + Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a>;</div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span>    }</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span> </div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>}</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span> </div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span><a class="code hl_function" href="Sdb_8h.html#a05ee63d567b60fbc2b9e6732f4154a48">SdbArenaGetPos</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena)</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>{</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Pos = Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a>;</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    <span class="keywordflow">return</span> Pos;</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span>}</div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span> </div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span><a class="code hl_function" href="Sdb_8h.html#a9a812984d9d5b96c810aea56d3cb526d">SdbArenaSeek</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Pos)</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>{</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>    <span class="keywordflow">if</span>(Pos &lt;= Arena-&gt;Cap) {</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>        Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> = Pos;</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span>        <span class="keywordflow">return</span> Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">Mem</a> + Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a>;</div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>    }</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span> </div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span>    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>}</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span> </div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span><a class="code hl_function" href="Sdb_8h.html#a189cec96c8de01506b1aabadebdc3e36">SdbArenaReserve</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size)</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>{</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    <span class="keywordflow">if</span>(Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> + Size &lt;= Arena-&gt;Cap) {</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>        Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> += Size;</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>        <span class="keywordflow">return</span> Size;</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="Sdb_8h.html#ae0653111be0436f3c1b8ab9efb3861c2">SdbArenaRemaining</a>(Arena);</div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    }</div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>}</div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span> </div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span><a class="code hl_function" href="Sdb_8h.html#ab38d94a0b56df0604f07862a93856990">SdbArenaClear</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena)</div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>{</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span>    Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> = 0;</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span>}</div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span> </div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span><a class="code hl_function" href="Sdb_8h.html#adeff24e101815f4afba0ac2f84b38da9">SdbArenaClearZero</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena)</div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>{</div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>    <a class="code hl_function" href="Sdb_8h.html#a8be20005831571cc149d3e7cc3139dac">SdbMemZero</a>(Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">Mem</a>, Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#a8690c25e96e37eb0c7aea12e8b62b383">Cap</a>);</div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span>    Arena-&gt;<a class="code hl_variable" href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">Cur</a> = 0;</div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>}</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span> </div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span><a class="code hl_function" href="Sdb_8h.html#a42f445019283e8ac8784728c1544e1b6">Sdb__ThreadArenasInit__</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *TABuf[], <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAs,</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span>                        <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> **TAInstance)</div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>{</div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>    TAs-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">Arenas</a> = TABuf;</div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>    *TAInstance = TAs;</div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span>}</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span> </div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span><a class="code hl_function" href="Sdb_8h.html#ac53e895445271af62d760fc413134b98">Sdb__ThreadArenasInitExtern__</a>(<a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAs, <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> **TAInstance)</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>{</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>    *TAInstance = TAs;</div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>}</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span> </div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span><a class="code hl_typedef" href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">sdb_errno</a></div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span><a class="code hl_function" href="Sdb_8h.html#ad5a4c35db7b941b84d64d874bb7faf3a">Sdb__ThreadArenasAdd__</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena, <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAInstance)</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>{</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>    <span class="keywordflow">if</span>(TAInstance-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#a8e12e2394bbfbf88b17fe3c1316585df">Count</a> + 1 &lt;= TAInstance-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#a7270fed057418caf4c7b5cdab3375a9e">MaxCount</a>) {</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>        TAInstance-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">Arenas</a>[TAInstance-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#a8e12e2394bbfbf88b17fe3c1316585df">Count</a>++] = Arena;</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    }</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span> </div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>}</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span> </div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span><a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a></div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span><a class="code hl_function" href="Sdb_8h.html#a7d36f635ee473a12e82ed102ab4597a3">SdbScratchBegin</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena)</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>{</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>    <a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a> Scratch;</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>    Scratch.<a class="code hl_variable" href="structsdb__scratch__arena.html#a3f108684702218e8755d5030e053525b">Arena</a> = Arena;</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>    Scratch.<a class="code hl_variable" href="structsdb__scratch__arena.html#a3d80ef1c6c7aaf2cbb9cd35bf7c9da78">F5</a>    = <a class="code hl_function" href="Sdb_8h.html#a05ee63d567b60fbc2b9e6732f4154a48">SdbArenaGetPos</a>(Arena);</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>    <span class="keywordflow">return</span> Scratch;</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>}</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span> </div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span><a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a></div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span><a class="code hl_function" href="Sdb_8h.html#af59aaa6b0e0b1a6aefd73b67c5ad729f">Sdb__ScratchGet__</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> **Conflicts, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ConflictCount, <a class="code hl_struct" href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a> *TAs)</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>{</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>    <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena = NULL;</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>    <span class="keywordflow">if</span>(ConflictCount &gt; 0) {</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>        <span class="keywordflow">for</span>(<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> i = 0; i &lt; TAs-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#a8e12e2394bbfbf88b17fe3c1316585df">Count</a>; ++i) {</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>            <span class="keywordflow">for</span>(<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> j = 0; j &lt; ConflictCount; ++j) {</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>                <span class="keywordflow">if</span>(TAs-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">Arenas</a>[i] != Conflicts[j]) {</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>                    Arena = TAs-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">Arenas</a>[i];</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>                    <span class="keywordflow">goto</span> exit;</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                }</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>            }</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>        }</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>        Arena = TAs-&gt;<a class="code hl_variable" href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">Arenas</a>[0];</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>    }</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span> </div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>exit:</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>    <span class="keywordflow">return</span> (Arena == NULL) ? (<a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a>){ 0 } : <a class="code hl_function" href="Sdb_8h.html#a7d36f635ee473a12e82ed102ab4597a3">SdbScratchBegin</a>(Arena);</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>}</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span> </div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span><a class="code hl_function" href="Sdb_8h.html#ac49260838307c97ac46dfb2a0e83a7c9">Sdb__ScratchRelease__</a>(<a class="code hl_struct" href="structsdb__scratch__arena.html">sdb_scratch_arena</a> Scratch)</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>{</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>    <a class="code hl_function" href="Sdb_8h.html#a9a812984d9d5b96c810aea56d3cb526d">SdbArenaSeek</a>(Scratch.<a class="code hl_variable" href="structsdb__scratch__arena.html#a3f108684702218e8755d5030e053525b">Arena</a>, Scratch.<a class="code hl_variable" href="structsdb__scratch__arena.html#a3d80ef1c6c7aaf2cbb9cd35bf7c9da78">F5</a>);</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>}</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span> </div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span><a class="code hl_function" href="Sdb_8h.html#a56e1c591314b08089fe65b5a5966f6bb">SdbArrayShift</a>(<span class="keywordtype">void</span> *Mem, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> From, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> To, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Count, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementSize)</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>{</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>    <span class="keywordflow">if</span>(From != To) {</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>        <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *Array = (<a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *)Mem;</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>        <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *Src   = Array + (From * ElementSize);</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>        <a class="code hl_typedef" href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a> *Dst   = Array + (To * ElementSize);</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span> </div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>        <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> NumElements = (Count &gt; From) ? (Count - From) : 0;</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span> </div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>        <span class="keywordflow">if</span>(NumElements &gt; 0) {</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>            <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> NBytes = NumElements * ElementSize;</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>            memmove(Dst, Src, NBytes);</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>        }</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>    }</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>}</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span> </div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span><span class="comment">//              STRINGS               //</span></div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span> </div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span> </div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span><a class="code hl_function" href="Sdb_8h.html#a036cc1615c9626212e0803887ee46e28">SdbStrnlen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Max)</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>{</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Count = 0;</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>    <span class="keywordflow">while</span>(*String++ != <span class="charliteral">&#39;\0&#39;</span> &amp;&amp; Count &lt; Max) {</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>        ++Count;</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>    }</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span> </div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>    <span class="keywordflow">return</span> Count;</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>}</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span> </div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span><a class="code hl_function" href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">SdbStrlen</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *String)</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>{</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Count = 0;</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>    <span class="keywordflow">while</span>(*String++ != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>        ++Count;</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>    }</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span> </div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>    <span class="keywordflow">return</span> Count;</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>}</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span> </div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span><span class="keywordtype">char</span> *</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span><a class="code hl_function" href="Sdb_8h.html#a9b40095314796f7ec7984b9fe2f157b5">SdbStrdup</a>(<span class="keywordtype">char</span> *String, <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena)</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>{</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>   StringLength = <a class="code hl_function" href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">SdbStrlen</a>(String);</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>    <span class="keywordtype">char</span> *NewString    = <a class="code hl_define" href="Sdb_8h.html#a4448f1a74f8d826323ae8891cd4774b4">SdbPushArray</a>(Arena, <span class="keywordtype">char</span>, StringLength + 1);</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>    <a class="code hl_function" href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">SdbMemcpy</a>(NewString, String, StringLength);</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>    NewString[StringLength] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span> </div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>    <span class="keywordflow">return</span> NewString;</div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>}</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span> </div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span><span class="comment">//</span></div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span><span class="comment">// SDB String</span></div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span><span class="comment">//</span></div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span> </div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span><a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String)</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>{</div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String)-&gt;Len;</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>}</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> <a class="code hl_function" href="Sdb_8h.html#a6a14d987497bcbbeff48fe5ccc5882dc">SdbStringCap</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String);</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span> </div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span><a class="code hl_function" href="Sdb_8h.html#a6a14d987497bcbbeff48fe5ccc5882dc">SdbStringCap</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String)</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>{</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String)-&gt;Cap;</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>}</div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span> </div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span><a class="code hl_function" href="Sdb_8h.html#a9d210cf847af6b4674bb7fafc02b0991">SdbStringAvailableSpace</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String)</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>{</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>    <a class="code hl_struct" href="structsdb__string__header.html">sdb_string_header</a> *Header = <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String);</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>    <span class="keywordflow">return</span> Header-&gt;<a class="code hl_variable" href="structsdb__string__header.html#a4616749be128339ee34040ffd4314120">Cap</a> - Header-&gt;<a class="code hl_variable" href="structsdb__string__header.html#a556787d1d05542b1594037e9da071f51">Len</a>;</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>}</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span> </div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span><a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span><a class="code hl_function" href="Sdb_8h.html#aa08a2e73f3907302fda88dbf4cb08f75">SdbStringAllocSize</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String)</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>{</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Size = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsdb__string__header.html">sdb_string_header</a>) + <a class="code hl_function" href="Sdb_8h.html#a6a14d987497bcbbeff48fe5ccc5882dc">SdbStringCap</a>(String);</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>    <span class="keywordflow">return</span> Size;</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>}</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span> </div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>Sdb__StringSetLen__(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Len)</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>{</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>    <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String)-&gt;Len = Len;</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>}</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span> </div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>Sdb__StringSetCap__(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Cap)</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>{</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>    <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String)-&gt;Cap = Cap;</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>}</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span> </div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>Sdb__StringMake__(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *A, <span class="keyword">const</span> <span class="keywordtype">void</span> *InitString, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Len)</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>{</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>    <span class="keywordtype">size_t</span> HeaderSize = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsdb__string__header.html">sdb_string_header</a>);</div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>    <span class="keywordtype">void</span>  *Ptr        = <a class="code hl_function" href="Sdb_8h.html#a77f49f2da4cf9e662d7cb63fe2c677dd">SdbArenaPush</a>(A, HeaderSize + Len + 1);</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>    <span class="keywordflow">if</span>(Ptr == NULL) {</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>    }</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>    <span class="keywordflow">if</span>(InitString == NULL) {</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>        <a class="code hl_function" href="Sdb_8h.html#a2758760564fc0044b9f6c9aee290a7fe">SdbMemset</a>(Ptr, 0, HeaderSize + Len + 1);</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>    }</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span> </div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>    <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a>         String;</div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>    <a class="code hl_struct" href="structsdb__string__header.html">sdb_string_header</a> *Header;</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span> </div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>    String = (<span class="keywordtype">char</span> *)Ptr + HeaderSize;</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>    Header = <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span> </div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>    Header-&gt;<a class="code hl_variable" href="structsdb__string__header.html#a84b53f149632d35824e806b66f343f85">Arena</a> = A;</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    Header-&gt;<a class="code hl_variable" href="structsdb__string__header.html#a556787d1d05542b1594037e9da071f51">Len</a>   = Len;</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>    Header-&gt;<a class="code hl_variable" href="structsdb__string__header.html#a4616749be128339ee34040ffd4314120">Cap</a>   = Len;</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    <span class="keywordflow">if</span>(Len &gt; 0 &amp;&amp; (InitString != NULL)) {</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>        <a class="code hl_function" href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">SdbMemcpy</a>(String, InitString, Len);</div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>        String[Len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>    }</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span> </div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>    <span class="keywordflow">return</span> String;</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>}</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span> </div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span><a class="code hl_function" href="Sdb_8h.html#acd332199b77e76c2b764ef93a7b60439">SdbStringMake</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *A, <span class="keyword">const</span> <span class="keywordtype">char</span> *String)</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>{</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Len = (String != NULL) ? <a class="code hl_function" href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">SdbStrlen</a>(String) : 0;</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>    <span class="keywordflow">return</span> Sdb__StringMake__(A, String, Len);</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span>}</div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span> </div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span><a class="code hl_function" href="Sdb_8h.html#a6be673802fff3fd52d2e3406bce25b1f">SdbStringFree</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String)</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>{</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>    <span class="keywordflow">if</span>(String != NULL) {</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>        <a class="code hl_struct" href="structsdb__string__header.html">sdb_string_header</a> *H       = <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String);</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>        <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>                PopSize = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsdb__string__header.html">sdb_string_header</a>) + H-&gt;<a class="code hl_variable" href="structsdb__string__header.html#a4616749be128339ee34040ffd4314120">Cap</a> + 1;</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>        <a class="code hl_function" href="Sdb_8h.html#ad062fbabf603cdd569d861297d429c4b">SdbArenaPop</a>(H-&gt;Arena, PopSize);</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>    }</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>}</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span> </div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span><a class="code hl_function" href="Sdb_8h.html#a84dc05a7798d0fbc26a71cb94eefb001">SdbStringDuplicate</a>(<a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *A, <span class="keyword">const</span> <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String)</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>{</div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>    <span class="keywordflow">return</span> Sdb__StringMake__(A, String, <a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(String));</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>}</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span> </div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span><a class="code hl_function" href="Sdb_8h.html#a3ae9670b731e5246a1f4f931547730c8">SdbStringClear</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String)</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>{</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>    Sdb__StringSetLen__(String, 0);</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>    String[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>}</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span> </div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span><a class="code hl_function" href="Sdb_8h.html#af443df2d401ad3eca43919e5cf1a7118">SdbStringBackspace</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> N)</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>{</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> NewLen = <a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(String) - N;</div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span>    Sdb__StringSetLen__(String, NewLen);</div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span>    String[NewLen] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span>}</div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span> </div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span><a class="code hl_function" href="Sdb_8h.html#ab910235b10b570b49cf7ff8c3cb9a9f0">SdbStringMakeSpace</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> AddLen)</div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span>{</div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Available = <a class="code hl_function" href="Sdb_8h.html#a9d210cf847af6b4674bb7fafc02b0991">SdbStringAvailableSpace</a>(String);</div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span>    <span class="keywordflow">if</span>(Available &lt; AddLen) {</div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span>        <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *A        = <a class="code hl_define" href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a>(String)-&gt;Arena;</div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span>        <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>        Reserved = <a class="code hl_function" href="Sdb_8h.html#a189cec96c8de01506b1aabadebdc3e36">SdbArenaReserve</a>(A, AddLen);</div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span>        <span class="keywordflow">if</span>(Reserved &lt; AddLen) {</div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span>            <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>        }</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span> </div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>        <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> NewCap = <a class="code hl_function" href="Sdb_8h.html#a6a14d987497bcbbeff48fe5ccc5882dc">SdbStringCap</a>(String) + AddLen;</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>        Sdb__StringSetCap__(String, NewCap);</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>    }</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>    <span class="keywordflow">return</span> String;</div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>}</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span> </div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>Sdb__StringAppend__(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <span class="keyword">const</span> <span class="keywordtype">void</span> *Other, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> OtherLen)</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>{</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>    String = <a class="code hl_function" href="Sdb_8h.html#ab910235b10b570b49cf7ff8c3cb9a9f0">SdbStringMakeSpace</a>(String, OtherLen);</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>    <span class="keywordflow">if</span>(String == NULL) {</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>    }</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span> </div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> CurLen = <a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(String);</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>    <a class="code hl_function" href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">SdbMemcpy</a>(String + CurLen, Other, OtherLen);</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>    Sdb__StringSetLen__(String, CurLen + OtherLen);</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>    String[CurLen + OtherLen] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>    <span class="keywordflow">return</span> String;</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>}</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span> </div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span><a class="code hl_function" href="Sdb_8h.html#a2f3b726bde5f66a61dee9805406813ee">SdbStringAppend</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> Other)</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>{</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>    <span class="keywordflow">return</span> Sdb__StringAppend__(String, Other, <a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(Other));</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>}</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span> </div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span><a class="code hl_function" href="Sdb_8h.html#a28c30cfe4c8326befba64bf54397bc47">SdbStringAppendC</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <span class="keyword">const</span> <span class="keywordtype">char</span> *Other)</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>{</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>    <span class="keywordflow">return</span> Sdb__StringAppend__(String, Other, <a class="code hl_function" href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">SdbStrlen</a>(Other));</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>}</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span> </div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span><a class="code hl_function" href="Sdb_8h.html#adb598df288598cf1c13afc15e3f7e6c2">SdbStringAppendFmt</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <span class="keyword">const</span> <span class="keywordtype">char</span> *Fmt, ...)</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>{</div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span>    <span class="comment">// TODO(ingar): Make arena mandatory or use String&#39;s arena?</span></div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span>    <span class="keywordtype">char</span>    Buf[1024] = { 0 };</div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span>    va_list Va;</div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span>    va_start(Va, Fmt);</div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> FmtLen = vsnprintf(Buf, <a class="code hl_define" href="Sdb_8h.html#aff69611d006fa7bc77e23c1ec31e7c5b">SdbArrayLen</a>(Buf) - 1, Fmt, Va); <span class="comment">// TODO(ingar): stb_sprintf?</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span>    va_end(Va);</div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span>    <span class="keywordflow">return</span> Sdb__StringAppend__(String, Buf, FmtLen);</div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span>}</div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span> </div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span><a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span><a class="code hl_function" href="Sdb_8h.html#ad8cb96dc776728fa2edfceebc29dfa56">SdbStringSet</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> String, <span class="keyword">const</span> <span class="keywordtype">char</span> *CString)</div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span>{</div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> Len = <a class="code hl_function" href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">SdbStrlen</a>(CString);</div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span>    String  = <a class="code hl_function" href="Sdb_8h.html#ab910235b10b570b49cf7ff8c3cb9a9f0">SdbStringMakeSpace</a>(String, Len);</div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span>    <span class="keywordflow">if</span>(String == NULL) {</div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    }</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span> </div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    <a class="code hl_function" href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">SdbMemcpy</a>(String, CString, Len);</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span>    String[Len] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span>    Sdb__StringSetLen__(String, Len);</div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span> </div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span>    <span class="keywordflow">return</span> String;</div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span>}</div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span> </div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span><span class="keywordtype">bool</span></div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span><a class="code hl_function" href="Sdb_8h.html#a394dc798b356ef5cb8aa98d65a12ba14">SdbStringsAreEqual</a>(<a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> Lhs, <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> Rhs)</div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span>{</div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> LStringLen = <a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(Lhs);</div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> RStringLen = <a class="code hl_function" href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a>(Rhs);</div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span> </div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span>    <span class="keywordflow">if</span>(LStringLen != RStringLen) {</div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="Sdb_8h.html#a13c0a063261b06c0a48bb53e10bdfd9d">SdbMemcmp</a>(Lhs, Rhs, LStringLen);</div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span>    }</div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span>}</div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span> </div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span><span class="comment">//                RNG                 //</span></div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span> </div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span><a class="code hl_typedef" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> *</div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span><a class="code hl_function" href="Sdb_8h.html#aa1375a2f998679ba730511efa197a612">Sdb__GetPCGState__</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span>{</div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span>    <span class="keyword">static</span> uint32_t Sdb__PCGState = 0;</div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span>    <span class="keywordflow">return</span> &amp;Sdb__PCGState;</div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>}</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span> </div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span><span class="comment">// Implementation of the PCG algorithm (https://www.pcg-random.org)</span></div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span><span class="comment">// It&#39;s the caller&#39;s responsibilites to have called SeedRandPCG before use</span></div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span><a class="code hl_typedef" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a></div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span><a class="code hl_function" href="Sdb_8h.html#a2a25c1b6577a53a91da5cc4c6f14b4c9">SdbRandPCG</a>(<span class="keywordtype">void</span>)</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>{</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>    <a class="code hl_typedef" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> State             = *<a class="code hl_function" href="Sdb_8h.html#aa1375a2f998679ba730511efa197a612">Sdb__GetPCGState__</a>();</div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span>    *<a class="code hl_function" href="Sdb_8h.html#aa1375a2f998679ba730511efa197a612">Sdb__GetPCGState__</a>() = State * 747796405u + 2891336453u;</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>    <a class="code hl_typedef" href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a> Word              = ((State &gt;&gt; ((State &gt;&gt; 28u) + 4u)) ^ State) * 277803737u;</div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span>    <span class="keywordflow">return</span> (Word &gt;&gt; 22u) ^ Word;</div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span>}</div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span> </div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span><a class="code hl_function" href="Sdb_8h.html#a97814e6defd62abc5a012cd186cee1f6">SdbSeedRandPCG</a>(uint32_t Seed)</div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span>{</div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span>    *<a class="code hl_function" href="Sdb_8h.html#aa1375a2f998679ba730511efa197a612">Sdb__GetPCGState__</a>() = Seed;</div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span>}</div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span> </div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span><span class="comment">//              FILE IO                //</span></div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span> </div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span><a class="code hl_function" href="Sdb_8h.html#a90d4c5571618a22851988f1df50ba874">SdbMemUnmap</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map)</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>{</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>    <span class="keywordflow">if</span>(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a> != NULL &amp;&amp; Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a> != MAP_FAILED) {</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>        munmap(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a>, Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afb2c2e72e4177b38c2b97e02cc7123b7">Size</a>);</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>    }</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span> </div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>    <span class="keywordflow">if</span>(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> &gt;= 0) {</div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>        close(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>);</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>    }</div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>}</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span> </div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span><a class="code hl_typedef" href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">sdb_errno</a></div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span><a class="code hl_function" href="Sdb_8h.html#a5fc44182217ffd30eee4859cce9a0518">Sdb__MemMap__</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map, <span class="keywordtype">void</span> *MAddr, <span class="keywordtype">size_t</span> MSize, <span class="keywordtype">int</span> MProt, <span class="keywordtype">int</span> MFlags, <span class="keywordtype">int</span> MFd,</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>              off_t MOffset, <a class="code hl_typedef" href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a> FileName, <span class="keywordtype">int</span> OFlags, mode_t OMode,</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>              <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module)</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>{</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>    Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afb2c2e72e4177b38c2b97e02cc7123b7">Size</a> = MSize;</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>    Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>   = -1;</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span> </div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>    <span class="keywordflow">if</span>(MFd &lt; -1) {</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>        <span class="keywordflow">if</span>(FileName) {</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>            Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a56f50205cb9008701881ce8fcb2bdc2c">Filename</a> = FileName;</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>            <span class="keywordflow">if</span>(!Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a56f50205cb9008701881ce8fcb2bdc2c">Filename</a>) {</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>                <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;ERR&quot;</span>, <span class="stringliteral">&quot;Failed to copy filename: %s&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>                <span class="keywordflow">goto</span> <a class="code hl_struct" href="structerror.html">error</a>;</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>            }</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>        }</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span> </div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span>        Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> = open(FileName, OFlags &amp; (~O_TRUNC), OMode);</div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>        <span class="keywordflow">if</span>(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> == -1) {</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>            <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;ERR&quot;</span>, <span class="stringliteral">&quot;Error opening file %s: %s&quot;</span>, FileName, strerror(errno));</div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>            <span class="keywordflow">goto</span> <a class="code hl_struct" href="structerror.html">error</a>;</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>        }</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>        Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> = MFd;</div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>    }</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span> </div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>    <span class="keywordflow">if</span>(OFlags &amp; O_TRUNC || (MFlags &amp; MAP_SHARED &amp;&amp; MProt &amp; PROT_WRITE)) {</div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span>        <span class="keywordflow">if</span>(ftruncate(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>, MSize) == -1) {</div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span>            <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;ERR&quot;</span>, <span class="stringliteral">&quot;Error setting file size: %s&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span>            <span class="keywordflow">goto</span> <a class="code hl_struct" href="structerror.html">error</a>;</div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span>        }</div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span> </div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span>        <span class="keywordflow">if</span>(lseek(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>, 0, SEEK_SET) == -1) {</div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span>            <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;ERR&quot;</span>, <span class="stringliteral">&quot;Error resetting file pointer: %s&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span>            <span class="keywordflow">goto</span> <a class="code hl_struct" href="structerror.html">error</a>;</div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span>        }</div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span>    }</div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span> </div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span>    <span class="keywordflow">if</span>(MFlags &amp; MAP_ANONYMOUS) {</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>        <span class="keywordflow">if</span>(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> != -1) {</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>            close(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>            Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> = -1;</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span>        }</div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    }</div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span> </div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span>    Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a> = mmap(MAddr, MSize, MProt, MFlags, Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>, MOffset);</div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span>    <span class="keywordflow">if</span>(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a> == MAP_FAILED) {</div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span>        <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;ERR&quot;</span>, <span class="stringliteral">&quot;Error mapping memory: %s&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span>        <span class="keywordflow">goto</span> <a class="code hl_struct" href="structerror.html">error</a>;</div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span>    }</div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span> </div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span>    <span class="keywordflow">if</span>(MFlags &amp; MAP_PRIVATE) {</div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span>        <span class="keywordflow">if</span>(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> != -1) {</div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span>            close(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a>);</div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span>            Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">Fd</a> = -1;</div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span>        }</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>    }</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span> </div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>    <span class="keywordflow">if</span>(MFlags &amp; MAP_LOCKED) {</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>        <span class="keywordflow">if</span>(mlock(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a>, MSize) == -1) {</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>            <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;WARN&quot;</span>, <span class="stringliteral">&quot;Failed to lock pages in memory: %s&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>        }</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>    }</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span> </div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span> </div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span><a class="code hl_struct" href="structerror.html">error</a>:</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>    <a class="code hl_function" href="Sdb_8h.html#a90d4c5571618a22851988f1df50ba874">SdbMemUnmap</a>(Map);</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>    <span class="keywordflow">return</span> -errno;</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>}</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span> </div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span><span class="keywordtype">int</span></div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span><a class="code hl_function" href="Sdb_8h.html#a582b461f6d1f07bfafe74e6dfc7d76f4">SdbMemMapSync</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map)</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>{</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>    <span class="keywordtype">int</span> Ret = msync(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a>, Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afb2c2e72e4177b38c2b97e02cc7123b7">Size</a>, MS_SYNC);</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>    <span class="keywordflow">return</span> Ret;</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>}</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span> </div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span><span class="keywordtype">int</span></div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span><a class="code hl_function" href="Sdb_8h.html#ac2c9db63b55c8006db953ee8e04d7c33">SdbMemMapAdvise</a>(<a class="code hl_struct" href="structsdb__mmap.html">sdb_mmap</a> *Map, <span class="keywordtype">int</span> Advice)</div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>{</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>    <span class="keywordtype">int</span> Ret = madvise(Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">Data</a>, Map-&gt;<a class="code hl_variable" href="structsdb__mmap.html#afb2c2e72e4177b38c2b97e02cc7123b7">Size</a>, Advice);</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>    <span class="keywordflow">return</span> Ret;</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>}</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span> </div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span><a class="code hl_struct" href="structsdb__file__data.html">sdb_file_data</a> *</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span><a class="code hl_function" href="Sdb_8h.html#a5ee7553cb2684af20d146fcf1cc6538f">SdbLoadFileIntoMemory</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *Filename, <a class="code hl_struct" href="structsdb__arena.html">sdb_arena</a> *Arena)</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>{</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>    FILE *File = fopen(Filename, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>    <span class="keywordflow">if</span>(!File) {</div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>        printf(<span class="stringliteral">&quot;Failed to open file: %s\n&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>    }</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span> </div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>    <span class="keywordflow">if</span>(fseek(File, 0L, SEEK_END) != 0) {</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>        fclose(File);</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>    }</div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span> </div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> FileSize = (<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>)ftell(File);</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>    rewind(File);</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span> </div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>    <a class="code hl_struct" href="structsdb__file__data.html">sdb_file_data</a> *FileData;</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a>            FileDataSize = <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structsdb__file__data.html">sdb_file_data</a>) + FileSize + 1;</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>    <span class="keywordflow">if</span>(NULL != Arena) {</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>        FileData = <a class="code hl_function" href="Sdb_8h.html#a77f49f2da4cf9e662d7cb63fe2c677dd">SdbArenaPush</a>(Arena, FileDataSize);</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>        FileData = calloc(1, FileDataSize);</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>    }</div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>    <span class="keywordflow">if</span>(!FileData) {</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>        fclose(File);</div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>    }</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span> </div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>    FileData-&gt;<a class="code hl_variable" href="structsdb__file__data.html#a884c0d9a292498a03b8bfa48dc6b788d">Size</a> = FileSize;</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>    <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> BytesRead  = fread(FileData-&gt;<a class="code hl_variable" href="structsdb__file__data.html#ae6a76c0310fc6c75ce749d551527513d">Data</a>, 1, FileSize, File);</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>    <span class="keywordflow">if</span>(BytesRead != FileSize) {</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>        fprintf(stderr, <span class="stringliteral">&quot;Failed to read data from file %s\n&quot;</span>, strerror(errno));</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span>        fclose(File);</div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>        <span class="keywordflow">if</span>(Arena != NULL) {</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>            <a class="code hl_function" href="Sdb_8h.html#ad062fbabf603cdd569d861297d429c4b">SdbArenaPop</a>(Arena, FileDataSize);</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>            free(FileData);</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>        }</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span>    }</div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span> </div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>    fclose(File);</div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>    <span class="keywordflow">return</span> FileData;</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>}</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span> </div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span><span class="keywordtype">bool</span></div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span><a class="code hl_function" href="Sdb_8h.html#a6a4a9329e7dccd8f8850757d361ffed5">SdbWriteBufferToFile</a>(<span class="keywordtype">void</span> *Buffer, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementSize, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementCount, <span class="keyword">const</span> <span class="keywordtype">char</span> *Filename)</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>{</div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>    FILE *fd = fopen(Filename, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>    <span class="keywordflow">if</span>(!fd) {</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>        fprintf(stderr, <span class="stringliteral">&quot;Unable to open file %s!\n&quot;</span>, Filename);</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span>    }</div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span> </div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>    <span class="keywordtype">bool</span> WriteSuccessful = fwrite(Buffer, ElementSize, ElementCount, fd) == ElementCount;</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span>    fclose(fd);</div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>    <span class="keywordflow">return</span> WriteSuccessful;</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>}</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span> </div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span><span class="comment">//            &quot;TOKENIZER&quot;             //</span></div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span> </div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span><a class="code hl_struct" href="structsdb__token.html">sdb_token</a></div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span><a class="code hl_function" href="Sdb_8h.html#a94089238fcd7ef1ccf16306b6776bcc9">SdbGetNextToken</a>(<span class="keywordtype">char</span> **Cursor)</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>{</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>    <span class="keywordflow">while</span>(<span class="charliteral">&#39;\t&#39;</span> != **Cursor) {</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>        (*Cursor)++;</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span>    }</div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span> </div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>    (*Cursor)++; <span class="comment">// Skips to start of hex number</span></div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span> </div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span>    <a class="code hl_struct" href="structsdb__token.html">sdb_token</a> Token;</div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>    Token.<a class="code hl_variable" href="structsdb__token.html#acb87559e97618ba5fb17c3cc5a7ec83c">Start</a> = *Cursor;</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>    Token.<a class="code hl_variable" href="structsdb__token.html#a605f3a48562e3ffb8c1c02151569f096">Len</a>   = 0;</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span> </div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>    <span class="keywordflow">while</span>(<span class="charliteral">&#39;\n&#39;</span> != **Cursor &amp;&amp; <span class="charliteral">&#39;\r&#39;</span> != **Cursor) {</div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>        (*Cursor)++;</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>        ++Token.<a class="code hl_variable" href="structsdb__token.html#a605f3a48562e3ffb8c1c02151569f096">Len</a>;</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>    }</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>    <span class="keywordflow">if</span>(<span class="charliteral">&#39;\0&#39;</span> != **Cursor) {</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>        **Cursor = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span>    }</div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span> </div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>    <span class="keywordflow">return</span> Token;</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>}</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span><span class="comment">//            MEM TRACE               //</span></div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span> </div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span><a class="code hl_function" href="Sdb_8h.html#a7dbdfb31944cef3c8e71924f052fe58d">Sdb__MallocTrace__</a>(<span class="keywordtype">size_t</span> Size, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func, <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module)</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>{</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>    <span class="keywordtype">void</span> *Pointer = malloc(Size);</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span>    <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;DBG&quot;</span>, <span class="stringliteral">&quot;MALLOC (%s,%d): %p (%zd B)&quot;</span>, Func, Line, Pointer, Size);</div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>    <span class="keywordflow">return</span> Pointer;</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>}</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span> </div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span><a class="code hl_function" href="Sdb_8h.html#ad1121aae1cd16b9c56f54b7e9a2a08a4">Sdb__CallocTrace__</a>(<a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementCount, <a class="code hl_typedef" href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a> ElementSize, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func,</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>                   <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module)</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>{</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>    <span class="keywordtype">void</span> *Pointer = calloc(ElementCount, ElementSize);</div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>    <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;DBG&quot;</span>, <span class="stringliteral">&quot;CALLOC (%s,%d): %p (%lu * %luB = %zd B)&quot;</span>, Func, Line, Pointer,</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>                    ElementCount, ElementSize, (<span class="keywordtype">size_t</span>)(ElementCount * ElementSize));</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>    <span class="keywordflow">return</span> Pointer;</div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span>}</div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span> </div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span><span class="keywordtype">void</span> *</div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span><a class="code hl_function" href="Sdb_8h.html#a9e7187254b0c00c962b2418c55f0235d">Sdb__ReallocTrace__</a>(<span class="keywordtype">void</span> *Pointer, <span class="keywordtype">size_t</span> Size, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func,</div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span>                    <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module)</div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span>{</div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span>    <span class="keywordtype">void</span> *Original = Pointer;</div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span>    <span class="keywordtype">void</span> *Realloc  = NULL;</div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span>    <span class="keywordflow">if</span>(Pointer != NULL) {</div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span>        Realloc = realloc(Pointer, Size);</div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span>    }</div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span>    <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;DBG&quot;</span>, <span class="stringliteral">&quot;REALLOC (%s,%d): %p -&gt; %p (%zd B)&quot;</span>, Func, Line, Original,</div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span>                    Realloc, Size);</div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span>    <span class="keywordflow">return</span> Realloc;</div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span>}</div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span> </div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span><span class="keywordtype">void</span></div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span><a class="code hl_function" href="Sdb_8h.html#a45645d8c9ff873de84ddee3bd444be56">Sdb__FreeTrace__</a>(<span class="keywordtype">void</span> *Pointer, <span class="keywordtype">int</span> Line, <span class="keyword">const</span> <span class="keywordtype">char</span> *Func, <a class="code hl_struct" href="structsdb____log__module____.html">sdb__log_module__</a> *Module)</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>{</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    <a class="code hl_function" href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a>(Module, <span class="stringliteral">&quot;DBG&quot;</span>, <span class="stringliteral">&quot;FREE (%s,%d): %p&quot;</span>, Func, Line, Pointer);</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>    <span class="keywordflow">if</span>(Pointer != NULL) {</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>        free(Pointer);</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>    }</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>}</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span> </div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span><span class="preprocessor">#if(SDB_MEM_TRACE == 1) &amp;&amp; (SDB_LOG_LEVEL &gt;= SDB_LOG_LEVEL_DBG)</span></div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span><span class="preprocessor">#define malloc(Size)        Sdb__MallocTrace__(Size, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span><span class="preprocessor">#define calloc(Count, Size) Sdb__CallocTrace__(Count, Size, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span><span class="preprocessor">#define realloc(Pointer, Size)                                                                     \</span></div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span><span class="preprocessor">    Sdb__ReallocTrace__(Pointer, Size, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span><span class="preprocessor">#define free(Pointer) Sdb__FreeTrace__(Pointer, __LINE__, __func__, Sdb__LogInstance__)</span></div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span> </div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span><span class="comment">// NOLINTEND(misc-definitions-in-headers)</span></div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span> </div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span><span class="preprocessor">#endif </span><span class="comment">// SDB_H_IMPLEMENTATION</span></div>
<div class="ttc" id="aSdb_8h_html_a0265572c2aede5f392159deee7b606c0"><div class="ttname"><a href="Sdb_8h.html#a0265572c2aede5f392159deee7b606c0">SdbArenaPushZero</a></div><div class="ttdeci">void * SdbArenaPushZero(sdb_arena *Arena, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_a036cc1615c9626212e0803887ee46e28"><div class="ttname"><a href="Sdb_8h.html#a036cc1615c9626212e0803887ee46e28">SdbStrnlen</a></div><div class="ttdeci">u64 SdbStrnlen(const char *String, u64 Max)</div></div>
<div class="ttc" id="aSdb_8h_html_a05ee63d567b60fbc2b9e6732f4154a48"><div class="ttname"><a href="Sdb_8h.html#a05ee63d567b60fbc2b9e6732f4154a48">SdbArenaGetPos</a></div><div class="ttdeci">u64 SdbArenaGetPos(sdb_arena *Arena)</div></div>
<div class="ttc" id="aSdb_8h_html_a13c0a063261b06c0a48bb53e10bdfd9d"><div class="ttname"><a href="Sdb_8h.html#a13c0a063261b06c0a48bb53e10bdfd9d">SdbMemcmp</a></div><div class="ttdeci">bool SdbMemcmp(const void *Lhs, const void *Rhs, size_t Len)</div></div>
<div class="ttc" id="aSdb_8h_html_a189cec96c8de01506b1aabadebdc3e36"><div class="ttname"><a href="Sdb_8h.html#a189cec96c8de01506b1aabadebdc3e36">SdbArenaReserve</a></div><div class="ttdeci">u64 SdbArenaReserve(sdb_arena *Arena, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_a2758760564fc0044b9f6c9aee290a7fe"><div class="ttname"><a href="Sdb_8h.html#a2758760564fc0044b9f6c9aee290a7fe">SdbMemset</a></div><div class="ttdeci">void * SdbMemset(void *__restrict Data, int SetTo, size_t Len)</div></div>
<div class="ttc" id="aSdb_8h_html_a28c30cfe4c8326befba64bf54397bc47"><div class="ttname"><a href="Sdb_8h.html#a28c30cfe4c8326befba64bf54397bc47">SdbStringAppendC</a></div><div class="ttdeci">sdb_string SdbStringAppendC(sdb_string String, const char *Other)</div></div>
<div class="ttc" id="aSdb_8h_html_a2a25c1b6577a53a91da5cc4c6f14b4c9"><div class="ttname"><a href="Sdb_8h.html#a2a25c1b6577a53a91da5cc4c6f14b4c9">SdbRandPCG</a></div><div class="ttdeci">u32 SdbRandPCG(void)</div></div>
<div class="ttc" id="aSdb_8h_html_a2f3b726bde5f66a61dee9805406813ee"><div class="ttname"><a href="Sdb_8h.html#a2f3b726bde5f66a61dee9805406813ee">SdbStringAppend</a></div><div class="ttdeci">sdb_string SdbStringAppend(sdb_string String, sdb_string Other)</div></div>
<div class="ttc" id="aSdb_8h_html_a394dc798b356ef5cb8aa98d65a12ba14"><div class="ttname"><a href="Sdb_8h.html#a394dc798b356ef5cb8aa98d65a12ba14">SdbStringsAreEqual</a></div><div class="ttdeci">sdb_string bool SdbStringsAreEqual(sdb_string Lhs, sdb_string Rhs)</div></div>
<div class="ttc" id="aSdb_8h_html_a3ae9670b731e5246a1f4f931547730c8"><div class="ttname"><a href="Sdb_8h.html#a3ae9670b731e5246a1f4f931547730c8">SdbStringClear</a></div><div class="ttdeci">void SdbStringClear(sdb_string String)</div></div>
<div class="ttc" id="aSdb_8h_html_a3bc1152307e502260c7363261ded3603"><div class="ttname"><a href="Sdb_8h.html#a3bc1152307e502260c7363261ded3603">SdbMemSizeFromString</a></div><div class="ttdeci">size_t SdbMemSizeFromString(const char *SizeStr)</div></div>
<div class="ttc" id="aSdb_8h_html_a3f7e2bcbb0b4c338f3c4f6c937cd4234"><div class="ttname"><a href="Sdb_8h.html#a3f7e2bcbb0b4c338f3c4f6c937cd4234">u64</a></div><div class="ttdeci">uint64_t u64</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00058">Sdb.h:58</a></div></div>
<div class="ttc" id="aSdb_8h_html_a42f445019283e8ac8784728c1544e1b6"><div class="ttname"><a href="Sdb_8h.html#a42f445019283e8ac8784728c1544e1b6">Sdb__ThreadArenasInit__</a></div><div class="ttdeci">void Sdb__ThreadArenasInit__(sdb_arena *TABuf[], sdb__thread_arenas__ *TAs, sdb__thread_arenas__ **TAInstance)</div></div>
<div class="ttc" id="aSdb_8h_html_a4448f1a74f8d826323ae8891cd4774b4"><div class="ttname"><a href="Sdb_8h.html#a4448f1a74f8d826323ae8891cd4774b4">SdbPushArray</a></div><div class="ttdeci">#define SdbPushArray(arena, type, count)</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00346">Sdb.h:346</a></div></div>
<div class="ttc" id="aSdb_8h_html_a45645d8c9ff873de84ddee3bd444be56"><div class="ttname"><a href="Sdb_8h.html#a45645d8c9ff873de84ddee3bd444be56">Sdb__FreeTrace__</a></div><div class="ttdeci">void Sdb__FreeTrace__(void *Pointer, int Line, const char *Func, sdb__log_module__ *Module)</div></div>
<div class="ttc" id="aSdb_8h_html_a4754efd06c6316d855123cb51b8eb023"><div class="ttname"><a href="Sdb_8h.html#a4754efd06c6316d855123cb51b8eb023">SdbDoubleEpsilonCompare</a></div><div class="ttdeci">bool SdbDoubleEpsilonCompare(const double A, const double B)</div></div>
<div class="ttc" id="aSdb_8h_html_a48480005f204ce090dcbe59654be15fe"><div class="ttname"><a href="Sdb_8h.html#a48480005f204ce090dcbe59654be15fe">SdbWrite_sdb_file_data_ToFile</a></div><div class="ttdeci">bool SdbWrite_sdb_file_data_ToFile(sdb_file_data *FileData, const char *Filename)</div></div>
<div class="ttc" id="aSdb_8h_html_a48d6cd8e4135fb2ff7e7f2dac84089ec"><div class="ttname"><a href="Sdb_8h.html#a48d6cd8e4135fb2ff7e7f2dac84089ec">i32</a></div><div class="ttdeci">int32_t i32</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00062">Sdb.h:62</a></div></div>
<div class="ttc" id="aSdb_8h_html_a4926cbec2e5da5e98aa8d69422b38cc8"><div class="ttname"><a href="Sdb_8h.html#a4926cbec2e5da5e98aa8d69422b38cc8">SDB_BEGIN_EXTERN_C</a></div><div class="ttdeci">#define SDB_BEGIN_EXTERN_C</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00041">Sdb.h:41</a></div></div>
<div class="ttc" id="aSdb_8h_html_a4bb7b731a999e7bcba627bde0e086830"><div class="ttname"><a href="Sdb_8h.html#a4bb7b731a999e7bcba627bde0e086830">sdb_errno</a></div><div class="ttdeci">int_least32_t sdb_errno</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00077">Sdb.h:77</a></div></div>
<div class="ttc" id="aSdb_8h_html_a56e1c591314b08089fe65b5a5966f6bb"><div class="ttname"><a href="Sdb_8h.html#a56e1c591314b08089fe65b5a5966f6bb">SdbArrayShift</a></div><div class="ttdeci">void SdbArrayShift(void *Mem, u64 From, u64 To, u64 Count, u64 ElementSize)</div></div>
<div class="ttc" id="aSdb_8h_html_a582b461f6d1f07bfafe74e6dfc7d76f4"><div class="ttname"><a href="Sdb_8h.html#a582b461f6d1f07bfafe74e6dfc7d76f4">SdbMemMapSync</a></div><div class="ttdeci">int SdbMemMapSync(sdb_mmap *Map)</div></div>
<div class="ttc" id="aSdb_8h_html_a5ee7553cb2684af20d146fcf1cc6538f"><div class="ttname"><a href="Sdb_8h.html#a5ee7553cb2684af20d146fcf1cc6538f">SdbLoadFileIntoMemory</a></div><div class="ttdeci">sdb_file_data * SdbLoadFileIntoMemory(const char *Filename, sdb_arena *Arena)</div></div>
<div class="ttc" id="aSdb_8h_html_a5fc44182217ffd30eee4859cce9a0518"><div class="ttname"><a href="Sdb_8h.html#a5fc44182217ffd30eee4859cce9a0518">Sdb__MemMap__</a></div><div class="ttdeci">sdb_errno Sdb__MemMap__(sdb_mmap *Map, void *MAddr, size_t MSize, int MProt, int MFlags, int MFd, off_t MOffset, sdb_string FileName, int OFlags, mode_t OMode, sdb__log_module__ *Module)</div><div class="ttdoc">Creates a memory mapping with optional file backing.</div></div>
<div class="ttc" id="aSdb_8h_html_a631a9a368c87c8f453084f1a06b6f0b3"><div class="ttname"><a href="Sdb_8h.html#a631a9a368c87c8f453084f1a06b6f0b3">SdbStrlen</a></div><div class="ttdeci">u64 SdbStrlen(const char *String)</div></div>
<div class="ttc" id="aSdb_8h_html_a647179d48383687d63d34d188cf7f5dc"><div class="ttname"><a href="Sdb_8h.html#a647179d48383687d63d34d188cf7f5dc">SDB_END_EXTERN_C</a></div><div class="ttdeci">#define SDB_END_EXTERN_C</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00042">Sdb.h:42</a></div></div>
<div class="ttc" id="aSdb_8h_html_a6559ed03eb1183c66527b6dc79d6c079"><div class="ttname"><a href="Sdb_8h.html#a6559ed03eb1183c66527b6dc79d6c079">SdbRadiansFromDegrees</a></div><div class="ttdeci">double SdbRadiansFromDegrees(double Degrees)</div></div>
<div class="ttc" id="aSdb_8h_html_a6a14d987497bcbbeff48fe5ccc5882dc"><div class="ttname"><a href="Sdb_8h.html#a6a14d987497bcbbeff48fe5ccc5882dc">SdbStringCap</a></div><div class="ttdeci">u64 SdbStringCap(sdb_string String)</div></div>
<div class="ttc" id="aSdb_8h_html_a6a4a9329e7dccd8f8850757d361ffed5"><div class="ttname"><a href="Sdb_8h.html#a6a4a9329e7dccd8f8850757d361ffed5">SdbWriteBufferToFile</a></div><div class="ttdeci">bool SdbWriteBufferToFile(void *Buffer, u64 ElementSize, u64 ElementCount, const char *Filename)</div></div>
<div class="ttc" id="aSdb_8h_html_a6be673802fff3fd52d2e3406bce25b1f"><div class="ttname"><a href="Sdb_8h.html#a6be673802fff3fd52d2e3406bce25b1f">SdbStringFree</a></div><div class="ttdeci">void SdbStringFree(sdb_string String)</div></div>
<div class="ttc" id="aSdb_8h_html_a71b44f82d87db2f39d9cda0003b50d57"><div class="ttname"><a href="Sdb_8h.html#a71b44f82d87db2f39d9cda0003b50d57">Sdb__WriteLog__</a></div><div class="ttdeci">i64 Sdb__WriteLog__(sdb__log_module__ *Module, const char *LogLevel, const char *Fmt,...) __attribute__((format(printf</div></div>
<div class="ttc" id="aSdb_8h_html_a77f49f2da4cf9e662d7cb63fe2c677dd"><div class="ttname"><a href="Sdb_8h.html#a77f49f2da4cf9e662d7cb63fe2c677dd">SdbArenaPush</a></div><div class="ttdeci">void * SdbArenaPush(sdb_arena *Arena, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_a7d36f635ee473a12e82ed102ab4597a3"><div class="ttname"><a href="Sdb_8h.html#a7d36f635ee473a12e82ed102ab4597a3">SdbScratchBegin</a></div><div class="ttdeci">sdb_scratch_arena SdbScratchBegin(sdb_arena *Arena)</div></div>
<div class="ttc" id="aSdb_8h_html_a7dbdfb31944cef3c8e71924f052fe58d"><div class="ttname"><a href="Sdb_8h.html#a7dbdfb31944cef3c8e71924f052fe58d">Sdb__MallocTrace__</a></div><div class="ttdeci">void * Sdb__MallocTrace__(size_t Size, int Line, const char *Func, sdb__log_module__ *Module)</div></div>
<div class="ttc" id="aSdb_8h_html_a84dc05a7798d0fbc26a71cb94eefb001"><div class="ttname"><a href="Sdb_8h.html#a84dc05a7798d0fbc26a71cb94eefb001">SdbStringDuplicate</a></div><div class="ttdeci">sdb_string SdbStringDuplicate(sdb_arena *A, const sdb_string String)</div></div>
<div class="ttc" id="aSdb_8h_html_a85cb35fbe5bf2961d7ad5f26814a91a2"><div class="ttname"><a href="Sdb_8h.html#a85cb35fbe5bf2961d7ad5f26814a91a2">i64</a></div><div class="ttdeci">int64_t i64</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00063">Sdb.h:63</a></div></div>
<div class="ttc" id="aSdb_8h_html_a8be20005831571cc149d3e7cc3139dac"><div class="ttname"><a href="Sdb_8h.html#a8be20005831571cc149d3e7cc3139dac">SdbMemZero</a></div><div class="ttdeci">void SdbMemZero(void *Mem, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_a90d4c5571618a22851988f1df50ba874"><div class="ttname"><a href="Sdb_8h.html#a90d4c5571618a22851988f1df50ba874">SdbMemUnmap</a></div><div class="ttdeci">void SdbMemUnmap(sdb_mmap *Map)</div></div>
<div class="ttc" id="aSdb_8h_html_a92c50087ca0e64fa93fc59402c55f8ca"><div class="ttname"><a href="Sdb_8h.html#a92c50087ca0e64fa93fc59402c55f8ca">u8</a></div><div class="ttdeci">uint8_t u8</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00055">Sdb.h:55</a></div></div>
<div class="ttc" id="aSdb_8h_html_a94089238fcd7ef1ccf16306b6776bcc9"><div class="ttname"><a href="Sdb_8h.html#a94089238fcd7ef1ccf16306b6776bcc9">SdbGetNextToken</a></div><div class="ttdeci">sdb_token SdbGetNextToken(char **Cursor)</div></div>
<div class="ttc" id="aSdb_8h_html_a97814e6defd62abc5a012cd186cee1f6"><div class="ttname"><a href="Sdb_8h.html#a97814e6defd62abc5a012cd186cee1f6">SdbSeedRandPCG</a></div><div class="ttdeci">void SdbSeedRandPCG(uint32_t Seed)</div></div>
<div class="ttc" id="aSdb_8h_html_a9a812984d9d5b96c810aea56d3cb526d"><div class="ttname"><a href="Sdb_8h.html#a9a812984d9d5b96c810aea56d3cb526d">SdbArenaSeek</a></div><div class="ttdeci">void * SdbArenaSeek(sdb_arena *Arena, u64 Pos)</div></div>
<div class="ttc" id="aSdb_8h_html_a9b1bdb21ac42d86edd96d53d49da1760"><div class="ttname"><a href="Sdb_8h.html#a9b1bdb21ac42d86edd96d53d49da1760">SdbMemcpy</a></div><div class="ttdeci">void * SdbMemcpy(void *__restrict To, const void *__restrict From, size_t Len)</div></div>
<div class="ttc" id="aSdb_8h_html_a9b40095314796f7ec7984b9fe2f157b5"><div class="ttname"><a href="Sdb_8h.html#a9b40095314796f7ec7984b9fe2f157b5">SdbStrdup</a></div><div class="ttdeci">char * SdbStrdup(char *String, sdb_arena *Arena)</div></div>
<div class="ttc" id="aSdb_8h_html_a9d210cf847af6b4674bb7fafc02b0991"><div class="ttname"><a href="Sdb_8h.html#a9d210cf847af6b4674bb7fafc02b0991">SdbStringAvailableSpace</a></div><div class="ttdeci">u64 SdbStringAvailableSpace(sdb_string String)</div></div>
<div class="ttc" id="aSdb_8h_html_a9e7187254b0c00c962b2418c55f0235d"><div class="ttname"><a href="Sdb_8h.html#a9e7187254b0c00c962b2418c55f0235d">Sdb__ReallocTrace__</a></div><div class="ttdeci">void * Sdb__ReallocTrace__(void *Pointer, size_t Size, int Line, const char *Func, sdb__log_module__ *Module)</div></div>
<div class="ttc" id="aSdb_8h_html_aa08a2e73f3907302fda88dbf4cb08f75"><div class="ttname"><a href="Sdb_8h.html#aa08a2e73f3907302fda88dbf4cb08f75">SdbStringAllocSize</a></div><div class="ttdeci">u64 SdbStringAllocSize(sdb_string String)</div></div>
<div class="ttc" id="aSdb_8h_html_aa1375a2f998679ba730511efa197a612"><div class="ttname"><a href="Sdb_8h.html#aa1375a2f998679ba730511efa197a612">Sdb__GetPCGState__</a></div><div class="ttdeci">u32 * Sdb__GetPCGState__(void)</div></div>
<div class="ttc" id="aSdb_8h_html_aaf34881f50372f5c1932078f4439bc5a"><div class="ttname"><a href="Sdb_8h.html#aaf34881f50372f5c1932078f4439bc5a">SdbArenaBootstrap</a></div><div class="ttdeci">sdb_arena * SdbArenaBootstrap(sdb_arena *Arena, sdb_arena *NewArena_, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_ab38d94a0b56df0604f07862a93856990"><div class="ttname"><a href="Sdb_8h.html#ab38d94a0b56df0604f07862a93856990">SdbArenaClear</a></div><div class="ttdeci">void SdbArenaClear(sdb_arena *Arena)</div></div>
<div class="ttc" id="aSdb_8h_html_ab63e953fd90c628d5c0727287df66fab"><div class="ttname"><a href="Sdb_8h.html#ab63e953fd90c628d5c0727287df66fab">SdbArenaInit</a></div><div class="ttdeci">void SdbArenaInit(sdb_arena *Arena, u8 *Mem, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_ab910235b10b570b49cf7ff8c3cb9a9f0"><div class="ttname"><a href="Sdb_8h.html#ab910235b10b570b49cf7ff8c3cb9a9f0">SdbStringMakeSpace</a></div><div class="ttdeci">sdb_string SdbStringMakeSpace(sdb_string String, u64 AddLen)</div></div>
<div class="ttc" id="aSdb_8h_html_abac77f2fd2daa044084e1a81745c7e11"><div class="ttname"><a href="Sdb_8h.html#abac77f2fd2daa044084e1a81745c7e11">SDB_STRING_HEADER</a></div><div class="ttdeci">#define SDB_STRING_HEADER(str)</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00414">Sdb.h:414</a></div></div>
<div class="ttc" id="aSdb_8h_html_abc08b49e10f062c04d34f7b4afc14615"><div class="ttname"><a href="Sdb_8h.html#abc08b49e10f062c04d34f7b4afc14615">SdbDoubleSignBit</a></div><div class="ttdeci">u64 SdbDoubleSignBit(double F)</div></div>
<div class="ttc" id="aSdb_8h_html_ac2c9db63b55c8006db953ee8e04d7c33"><div class="ttname"><a href="Sdb_8h.html#ac2c9db63b55c8006db953ee8e04d7c33">SdbMemMapAdvise</a></div><div class="ttdeci">int SdbMemMapAdvise(sdb_mmap *Map, int Advice)</div></div>
<div class="ttc" id="aSdb_8h_html_ac49260838307c97ac46dfb2a0e83a7c9"><div class="ttname"><a href="Sdb_8h.html#ac49260838307c97ac46dfb2a0e83a7c9">Sdb__ScratchRelease__</a></div><div class="ttdeci">void Sdb__ScratchRelease__(sdb_scratch_arena Scratch)</div></div>
<div class="ttc" id="aSdb_8h_html_ac53e895445271af62d760fc413134b98"><div class="ttname"><a href="Sdb_8h.html#ac53e895445271af62d760fc413134b98">Sdb__ThreadArenasInitExtern__</a></div><div class="ttdeci">void Sdb__ThreadArenasInitExtern__(sdb__thread_arenas__ *TAs, sdb__thread_arenas__ **TAInstance)</div></div>
<div class="ttc" id="aSdb_8h_html_ac62d74b32a5b5646bb39659b8c01797f"><div class="ttname"><a href="Sdb_8h.html#ac62d74b32a5b5646bb39659b8c01797f">sdb_string</a></div><div class="ttdeci">char * sdb_string</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00405">Sdb.h:405</a></div></div>
<div class="ttc" id="aSdb_8h_html_acd3167e718184de791ccd46192bbaa97"><div class="ttname"><a href="Sdb_8h.html#acd3167e718184de791ccd46192bbaa97">SDB_LOG_BUF_SIZE</a></div><div class="ttdeci">#define SDB_LOG_BUF_SIZE</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00167">Sdb.h:167</a></div></div>
<div class="ttc" id="aSdb_8h_html_acd332199b77e76c2b764ef93a7b60439"><div class="ttname"><a href="Sdb_8h.html#acd332199b77e76c2b764ef93a7b60439">SdbStringMake</a></div><div class="ttdeci">sdb_string SdbStringMake(sdb_arena *A, const char *String)</div></div>
<div class="ttc" id="aSdb_8h_html_ace9d960e74685e2cd84b36132dbbf8aa"><div class="ttname"><a href="Sdb_8h.html#ace9d960e74685e2cd84b36132dbbf8aa">u16</a></div><div class="ttdeci">uint16_t u16</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00056">Sdb.h:56</a></div></div>
<div class="ttc" id="aSdb_8h_html_ad062fbabf603cdd569d861297d429c4b"><div class="ttname"><a href="Sdb_8h.html#ad062fbabf603cdd569d861297d429c4b">SdbArenaPop</a></div><div class="ttdeci">void * SdbArenaPop(sdb_arena *Arena, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_ad1121aae1cd16b9c56f54b7e9a2a08a4"><div class="ttname"><a href="Sdb_8h.html#ad1121aae1cd16b9c56f54b7e9a2a08a4">Sdb__CallocTrace__</a></div><div class="ttdeci">void * Sdb__CallocTrace__(u64 ElementCount, u64 ElementSize, int Line, const char *Func, sdb__log_module__ *Module)</div></div>
<div class="ttc" id="aSdb_8h_html_ad309dbcaeea13aa602d686964156ea0b"><div class="ttname"><a href="Sdb_8h.html#ad309dbcaeea13aa602d686964156ea0b">i16</a></div><div class="ttdeci">int16_t i16</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00061">Sdb.h:61</a></div></div>
<div class="ttc" id="aSdb_8h_html_ad5a4c35db7b941b84d64d874bb7faf3a"><div class="ttname"><a href="Sdb_8h.html#ad5a4c35db7b941b84d64d874bb7faf3a">Sdb__ThreadArenasAdd__</a></div><div class="ttdeci">sdb_errno Sdb__ThreadArenasAdd__(sdb_arena *Arena, sdb__thread_arenas__ *TAInstance)</div></div>
<div class="ttc" id="aSdb_8h_html_ad8cb96dc776728fa2edfceebc29dfa56"><div class="ttname"><a href="Sdb_8h.html#ad8cb96dc776728fa2edfceebc29dfa56">SdbStringSet</a></div><div class="ttdeci">sdb_string SdbStringSet(sdb_string String, const char *CString)</div></div>
<div class="ttc" id="aSdb_8h_html_adb598df288598cf1c13afc15e3f7e6c2"><div class="ttname"><a href="Sdb_8h.html#adb598df288598cf1c13afc15e3f7e6c2">SdbStringAppendFmt</a></div><div class="ttdeci">sdb_string SdbStringAppendFmt(sdb_string String, const char *Fmt,...) __attribute__((format(printf</div></div>
<div class="ttc" id="aSdb_8h_html_adbed09cdb1e603fb23e9715e308094c9"><div class="ttname"><a href="Sdb_8h.html#adbed09cdb1e603fb23e9715e308094c9">SdbMemZeroSecure</a></div><div class="ttdeci">void SdbMemZeroSecure(void *Mem, u64 Size)</div></div>
<div class="ttc" id="aSdb_8h_html_adeff24e101815f4afba0ac2f84b38da9"><div class="ttname"><a href="Sdb_8h.html#adeff24e101815f4afba0ac2f84b38da9">SdbArenaClearZero</a></div><div class="ttdeci">void SdbArenaClearZero(sdb_arena *Arena)</div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a0bd481974da106b230aad0e7fa6ef842"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a0bd481974da106b230aad0e7fa6ef842">SDBE_CONN_CLOSED_SUCS</a></div><div class="ttdeci">@ SDBE_CONN_CLOSED_SUCS</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00086">Sdb.h:86</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a441cb85bdea229c9852f572fc9fa4461"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a441cb85bdea229c9852f572fc9fa4461">SDBE_PG_ERR</a></div><div class="ttdeci">@ SDBE_PG_ERR</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00089">Sdb.h:89</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a4fc9dcaf605a0586df10119e8a289894"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4fc9dcaf605a0586df10119e8a289894">SDBE_CP_UNAVAIL</a></div><div class="ttdeci">@ SDBE_CP_UNAVAIL</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00084">Sdb.h:84</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a52ccb9dfe634c55626a9218706b0c9e2"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a52ccb9dfe634c55626a9218706b0c9e2">SDBE_CONN_CLOSED_ERR</a></div><div class="ttdeci">@ SDBE_CONN_CLOSED_ERR</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00087">Sdb.h:87</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a589f6989d0ad042adf045d065ed57784"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a589f6989d0ad042adf045d065ed57784">SDBE_SUCCESS</a></div><div class="ttdeci">@ SDBE_SUCCESS</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00080">Sdb.h:80</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7a5fa7648ef8b226504de20dd07545ed1d"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a5fa7648ef8b226504de20dd07545ed1d">SDBE_DBS_UNAVAIL</a></div><div class="ttdeci">@ SDBE_DBS_UNAVAIL</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00083">Sdb.h:83</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7aa42e0ea386bf596371515a376d44b3d4"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7aa42e0ea386bf596371515a376d44b3d4">SDBE_JSON_ERR</a></div><div class="ttdeci">@ SDBE_JSON_ERR</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00091">Sdb.h:91</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7ad57af1c56ca87838762eaece998dc445"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ad57af1c56ca87838762eaece998dc445">SDBE_PTR_WAS_NULL</a></div><div class="ttdeci">@ SDBE_PTR_WAS_NULL</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00093">Sdb.h:93</a></div></div>
<div class="ttc" id="aSdb_8h_html_adf764cbdea00d65edcd07bb9953ad2b7ae55cc81a337333407e1a9d34e4a918d1"><div class="ttname"><a href="Sdb_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae55cc81a337333407e1a9d34e4a918d1">SDBE_ERR</a></div><div class="ttdeci">@ SDBE_ERR</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00081">Sdb.h:81</a></div></div>
<div class="ttc" id="aSdb_8h_html_ae0653111be0436f3c1b8ab9efb3861c2"><div class="ttname"><a href="Sdb_8h.html#ae0653111be0436f3c1b8ab9efb3861c2">SdbArenaRemaining</a></div><div class="ttdeci">u64 SdbArenaRemaining(sdb_arena *Arena)</div></div>
<div class="ttc" id="aSdb_8h_html_ae36b72fab20d0c2a64243117597c526b"><div class="ttname"><a href="Sdb_8h.html#ae36b72fab20d0c2a64243117597c526b">SdbStrErr</a></div><div class="ttdeci">static const char * SdbStrErr(sdb_errno E)</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00097">Sdb.h:97</a></div></div>
<div class="ttc" id="aSdb_8h_html_ae3702327b5f47e83b431e22b33da7b58"><div class="ttname"><a href="Sdb_8h.html#ae3702327b5f47e83b431e22b33da7b58">i8</a></div><div class="ttdeci">int8_t i8</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00060">Sdb.h:60</a></div></div>
<div class="ttc" id="aSdb_8h_html_aeeeca84b57511813afd5947eba0b7011"><div class="ttname"><a href="Sdb_8h.html#aeeeca84b57511813afd5947eba0b7011">SdbPushStruct</a></div><div class="ttdeci">#define SdbPushStruct(arena, type)</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00349">Sdb.h:349</a></div></div>
<div class="ttc" id="aSdb_8h_html_af443df2d401ad3eca43919e5cf1a7118"><div class="ttname"><a href="Sdb_8h.html#af443df2d401ad3eca43919e5cf1a7118">SdbStringBackspace</a></div><div class="ttdeci">void SdbStringBackspace(sdb_string String, u64 N)</div></div>
<div class="ttc" id="aSdb_8h_html_af59aaa6b0e0b1a6aefd73b67c5ad729f"><div class="ttname"><a href="Sdb_8h.html#af59aaa6b0e0b1a6aefd73b67c5ad729f">Sdb__ScratchGet__</a></div><div class="ttdeci">sdb_scratch_arena Sdb__ScratchGet__(sdb_arena **Conflicts, u64 ConflictCount, sdb__thread_arenas__ *TAs)</div></div>
<div class="ttc" id="aSdb_8h_html_afaa62991928fb9fb18ff0db62a040aba"><div class="ttname"><a href="Sdb_8h.html#afaa62991928fb9fb18ff0db62a040aba">u32</a></div><div class="ttdeci">uint32_t u32</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00057">Sdb.h:57</a></div></div>
<div class="ttc" id="aSdb_8h_html_afba68090886869e67965fc7b9925bdd4"><div class="ttname"><a href="Sdb_8h.html#afba68090886869e67965fc7b9925bdd4">SdbStringLen</a></div><div class="ttdeci">u64 SdbStringLen(sdb_string String)</div></div>
<div class="ttc" id="aSdb_8h_html_aff69611d006fa7bc77e23c1ec31e7c5b"><div class="ttname"><a href="Sdb_8h.html#aff69611d006fa7bc77e23c1ec31e7c5b">SdbArrayLen</a></div><div class="ttdeci">#define SdbArrayLen(Array)</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00149">Sdb.h:149</a></div></div>
<div class="ttc" id="aTestConstants_8h_html_a942ca748a0c3a7b8b4478ffc6074e0e9"><div class="ttname"><a href="TestConstants_8h.html#a942ca748a0c3a7b8b4478ffc6074e0e9">__attribute__</a></div><div class="ttdeci">struct __attribute__((packed, aligned(1)))</div><div class="ttdef"><b>Definition</b> <a href="TestConstants_8h_source.html#l00001">TestConstants.h:12</a></div></div>
<div class="ttc" id="astructerror_html"><div class="ttname"><a href="structerror.html">error</a></div><div class="ttdef"><b>Definition</b> <a href="cJSON_8c_source.html#l00089">cJSON.c:90</a></div></div>
<div class="ttc" id="astructsdb____log__module_____html"><div class="ttname"><a href="structsdb____log__module____.html">sdb__log_module__</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00188">Sdb.h:189</a></div></div>
<div class="ttc" id="astructsdb____log__module_____html_a27ed201ca0ab7a3e0deeebfe91fe0af2"><div class="ttname"><a href="structsdb____log__module____.html#a27ed201ca0ab7a3e0deeebfe91fe0af2">sdb__log_module__::Buffer</a></div><div class="ttdeci">char * Buffer</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00192">Sdb.h:192</a></div></div>
<div class="ttc" id="astructsdb____log__module_____html_a337f8a5932aa8ec9e64f12f8c862e75d"><div class="ttname"><a href="structsdb____log__module____.html#a337f8a5932aa8ec9e64f12f8c862e75d">sdb__log_module__::Name</a></div><div class="ttdeci">const char * Name</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00190">Sdb.h:190</a></div></div>
<div class="ttc" id="astructsdb____log__module_____html_a70af395937836e15fde03b4a8fbd8454"><div class="ttname"><a href="structsdb____log__module____.html#a70af395937836e15fde03b4a8fbd8454">sdb__log_module__::BufferSize</a></div><div class="ttdeci">u64 BufferSize</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00191">Sdb.h:191</a></div></div>
<div class="ttc" id="astructsdb____log__module_____html_a80f57298bc2c594b593695fd5b228f94"><div class="ttname"><a href="structsdb____log__module____.html#a80f57298bc2c594b593695fd5b228f94">sdb__log_module__::Lock</a></div><div class="ttdeci">pthread_mutex_t Lock</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00193">Sdb.h:193</a></div></div>
<div class="ttc" id="astructsdb____thread__arenas_____html"><div class="ttname"><a href="structsdb____thread__arenas____.html">sdb__thread_arenas__</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00271">Sdb.h:272</a></div></div>
<div class="ttc" id="astructsdb____thread__arenas_____html_a7270fed057418caf4c7b5cdab3375a9e"><div class="ttname"><a href="structsdb____thread__arenas____.html#a7270fed057418caf4c7b5cdab3375a9e">sdb__thread_arenas__::MaxCount</a></div><div class="ttdeci">u64 MaxCount</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00275">Sdb.h:275</a></div></div>
<div class="ttc" id="astructsdb____thread__arenas_____html_a8e12e2394bbfbf88b17fe3c1316585df"><div class="ttname"><a href="structsdb____thread__arenas____.html#a8e12e2394bbfbf88b17fe3c1316585df">sdb__thread_arenas__::Count</a></div><div class="ttdeci">u64 Count</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00274">Sdb.h:274</a></div></div>
<div class="ttc" id="astructsdb____thread__arenas_____html_ae8dfdb59c9e37114e91f6d5b57ac7529"><div class="ttname"><a href="structsdb____thread__arenas____.html#ae8dfdb59c9e37114e91f6d5b57ac7529">sdb__thread_arenas__::Arenas</a></div><div class="ttdeci">sdb_arena ** Arenas</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00273">Sdb.h:273</a></div></div>
<div class="ttc" id="astructsdb__arena_html"><div class="ttname"><a href="structsdb__arena.html">sdb_arena</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00256">Sdb.h:257</a></div></div>
<div class="ttc" id="astructsdb__arena_html_a8690c25e96e37eb0c7aea12e8b62b383"><div class="ttname"><a href="structsdb__arena.html#a8690c25e96e37eb0c7aea12e8b62b383">sdb_arena::Cap</a></div><div class="ttdeci">u64 Cap</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00259">Sdb.h:259</a></div></div>
<div class="ttc" id="astructsdb__arena_html_a8b4d6b5fd2642c6a51358db82b2c5109"><div class="ttname"><a href="structsdb__arena.html#a8b4d6b5fd2642c6a51358db82b2c5109">sdb_arena::Mem</a></div><div class="ttdeci">u8 * Mem</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00260">Sdb.h:260</a></div></div>
<div class="ttc" id="astructsdb__arena_html_aadcf90762fd00b3f17a8892fd2ff7087"><div class="ttname"><a href="structsdb__arena.html#aadcf90762fd00b3f17a8892fd2ff7087">sdb_arena::Cur</a></div><div class="ttdeci">u64 Cur</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00258">Sdb.h:258</a></div></div>
<div class="ttc" id="astructsdb__file__data_html"><div class="ttname"><a href="structsdb__file__data.html">sdb_file_data</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00456">Sdb.h:457</a></div></div>
<div class="ttc" id="astructsdb__file__data_html_a884c0d9a292498a03b8bfa48dc6b788d"><div class="ttname"><a href="structsdb__file__data.html#a884c0d9a292498a03b8bfa48dc6b788d">sdb_file_data::Size</a></div><div class="ttdeci">u64 Size</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00458">Sdb.h:458</a></div></div>
<div class="ttc" id="astructsdb__file__data_html_ae6a76c0310fc6c75ce749d551527513d"><div class="ttname"><a href="structsdb__file__data.html#ae6a76c0310fc6c75ce749d551527513d">sdb_file_data::Data</a></div><div class="ttdeci">u8 Data[]</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00459">Sdb.h:459</a></div></div>
<div class="ttc" id="astructsdb__mmap_html"><div class="ttname"><a href="structsdb__mmap.html">sdb_mmap</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00466">Sdb.h:467</a></div></div>
<div class="ttc" id="astructsdb__mmap_html_a56f50205cb9008701881ce8fcb2bdc2c"><div class="ttname"><a href="structsdb__mmap.html#a56f50205cb9008701881ce8fcb2bdc2c">sdb_mmap::Filename</a></div><div class="ttdeci">sdb_string Filename</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00471">Sdb.h:471</a></div></div>
<div class="ttc" id="astructsdb__mmap_html_a7b01cab77527db53e72e094a752faf88"><div class="ttname"><a href="structsdb__mmap.html#a7b01cab77527db53e72e094a752faf88">sdb_mmap::Data</a></div><div class="ttdeci">void * Data</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00468">Sdb.h:468</a></div></div>
<div class="ttc" id="astructsdb__mmap_html_adf82220cab472adc50518936c4b4d15e"><div class="ttname"><a href="structsdb__mmap.html#adf82220cab472adc50518936c4b4d15e">sdb_mmap::Flags</a></div><div class="ttdeci">int Flags</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00472">Sdb.h:472</a></div></div>
<div class="ttc" id="astructsdb__mmap_html_afb2c2e72e4177b38c2b97e02cc7123b7"><div class="ttname"><a href="structsdb__mmap.html#afb2c2e72e4177b38c2b97e02cc7123b7">sdb_mmap::Size</a></div><div class="ttdeci">size_t Size</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00469">Sdb.h:469</a></div></div>
<div class="ttc" id="astructsdb__mmap_html_afe0fb21f735ff57e7ce297dd8a06a9e9"><div class="ttname"><a href="structsdb__mmap.html#afe0fb21f735ff57e7ce297dd8a06a9e9">sdb_mmap::Fd</a></div><div class="ttdeci">int Fd</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00470">Sdb.h:470</a></div></div>
<div class="ttc" id="astructsdb__scratch__arena_html"><div class="ttname"><a href="structsdb__scratch__arena.html">sdb_scratch_arena</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00264">Sdb.h:265</a></div></div>
<div class="ttc" id="astructsdb__scratch__arena_html_a3d80ef1c6c7aaf2cbb9cd35bf7c9da78"><div class="ttname"><a href="structsdb__scratch__arena.html#a3d80ef1c6c7aaf2cbb9cd35bf7c9da78">sdb_scratch_arena::F5</a></div><div class="ttdeci">u64 F5</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00267">Sdb.h:267</a></div></div>
<div class="ttc" id="astructsdb__scratch__arena_html_a3f108684702218e8755d5030e053525b"><div class="ttname"><a href="structsdb__scratch__arena.html#a3f108684702218e8755d5030e053525b">sdb_scratch_arena::Arena</a></div><div class="ttdeci">sdb_arena * Arena</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00266">Sdb.h:266</a></div></div>
<div class="ttc" id="astructsdb__slice_html"><div class="ttname"><a href="structsdb__slice.html">sdb_slice</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00249">Sdb.h:250</a></div></div>
<div class="ttc" id="astructsdb__slice_html_a0669f63790a3cac1d5e4b47bdc7701eb"><div class="ttname"><a href="structsdb__slice.html#a0669f63790a3cac1d5e4b47bdc7701eb">sdb_slice::ESize</a></div><div class="ttdeci">u64 ESize</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00252">Sdb.h:252</a></div></div>
<div class="ttc" id="astructsdb__slice_html_a123da1863438c3fedb2656564e0a0b83"><div class="ttname"><a href="structsdb__slice.html#a123da1863438c3fedb2656564e0a0b83">sdb_slice::Mem</a></div><div class="ttdeci">u8 * Mem</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00253">Sdb.h:253</a></div></div>
<div class="ttc" id="astructsdb__slice_html_ac35578769c517d2b0b0ab879df810d4f"><div class="ttname"><a href="structsdb__slice.html#ac35578769c517d2b0b0ab879df810d4f">sdb_slice::Len</a></div><div class="ttdeci">u64 Len</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00251">Sdb.h:251</a></div></div>
<div class="ttc" id="astructsdb__string__header_html"><div class="ttname"><a href="structsdb__string__header.html">sdb_string_header</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00406">Sdb.h:407</a></div></div>
<div class="ttc" id="astructsdb__string__header_html_a4616749be128339ee34040ffd4314120"><div class="ttname"><a href="structsdb__string__header.html#a4616749be128339ee34040ffd4314120">sdb_string_header::Cap</a></div><div class="ttdeci">u64 Cap</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00410">Sdb.h:410</a></div></div>
<div class="ttc" id="astructsdb__string__header_html_a556787d1d05542b1594037e9da071f51"><div class="ttname"><a href="structsdb__string__header.html#a556787d1d05542b1594037e9da071f51">sdb_string_header::Len</a></div><div class="ttdeci">u64 Len</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00409">Sdb.h:409</a></div></div>
<div class="ttc" id="astructsdb__string__header_html_a84b53f149632d35824e806b66f343f85"><div class="ttname"><a href="structsdb__string__header.html#a84b53f149632d35824e806b66f343f85">sdb_string_header::Arena</a></div><div class="ttdeci">sdb_arena * Arena</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00408">Sdb.h:408</a></div></div>
<div class="ttc" id="astructsdb__token_html"><div class="ttname"><a href="structsdb__token.html">sdb_token</a></div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00591">Sdb.h:592</a></div></div>
<div class="ttc" id="astructsdb__token_html_a605f3a48562e3ffb8c1c02151569f096"><div class="ttname"><a href="structsdb__token.html#a605f3a48562e3ffb8c1c02151569f096">sdb_token::Len</a></div><div class="ttdeci">u64 Len</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00594">Sdb.h:594</a></div></div>
<div class="ttc" id="astructsdb__token_html_acb87559e97618ba5fb17c3cc5a7ec83c"><div class="ttname"><a href="structsdb__token.html#acb87559e97618ba5fb17c3cc5a7ec83c">sdb_token::Start</a></div><div class="ttdeci">char * Start</div><div class="ttdef"><b>Definition</b> <a href="Sdb_8h_source.html#l00593">Sdb.h:593</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="Sdb_8h.html">Sdb.h</a></li>
    <li class="footer">Generated on Mon May 5 2025 19:34:39 for Sensor Data Handler System by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
